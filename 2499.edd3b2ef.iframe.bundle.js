"use strict";(self.webpackChunk_woocommerce_block_library=self.webpackChunk_woocommerce_block_library||[]).push([[2499],{"./packages/checkout/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{OL:()=>validated_text_input.Z,AF:()=>applyCheckoutFilter});__webpack_require__("./packages/components/totals/index.js");var totals_wrapper=__webpack_require__("./packages/components/totals-wrapper/index.tsx"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),build_module=__webpack_require__("./node_modules/@wordpress/deprecated/build-module/index.js"),default_constants=__webpack_require__("./assets/js/settings/shared/default-constants.ts"),build=__webpack_require__("./node_modules/wordpress-components/build/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");class CheckoutSlotErrorBoundary extends react.Component{state={errorMessage:"",hasError:!1};static getDerivedStateFromError(error){return void 0!==error.statusText&&void 0!==error.status?{errorMessage:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("strong",{children:error.status}),": "+error.statusText]}),hasError:!0}:{errorMessage:error.message,hasError:!0}}render(){const{renderError}=this.props,{errorMessage,hasError}=this.state;return hasError?"function"==typeof renderError?renderError(errorMessage):(0,jsx_runtime.jsx)("p",{children:errorMessage}):this.props.children}}CheckoutSlotErrorBoundary.displayName="CheckoutSlotErrorBoundary",CheckoutSlotErrorBoundary.__docgenInfo={description:"",methods:[],displayName:"CheckoutSlotErrorBoundary"};const error_boundary=CheckoutSlotErrorBoundary,mockedUseSlot=()=>((0,build_module.default)("__experimentalUseSlot",{plugin:"woocommerce-gutenberg-products-block"}),{fills:new Array(2)}),hasValidFills=fills=>Array.isArray(fills)&&fills.filter(Boolean).length>0;let useSlot;useSlot="function"==typeof build.useSlot?build.useSlot:"function"==typeof build.__experimentalUseSlot?build.__experimentalUseSlot:mockedUseSlot;const createSlotFill=(slotName,onError=null)=>{const{Fill:BaseFill,Slot:BaseSlot}=(0,build.createSlotFill)(slotName);return{Fill:({children})=>(0,jsx_runtime.jsx)(BaseFill,{children:fillProps=>react.Children.map(children,(fill=>(0,jsx_runtime.jsx)(error_boundary,{renderError:default_constants.c$?onError:()=>null,children:(0,react.cloneElement)(fill,fillProps)})))}),Slot:props=>(0,jsx_runtime.jsx)(BaseSlot,{...props,bubblesVirtually:!0})}},{Fill:ExperimentalOrderMeta,Slot:OrderMetaSlot}=createSlotFill("__experimentalOrderMeta");ExperimentalOrderMeta.Slot=({className,extensions,cart,context})=>{const{fills}=useSlot("__experimentalOrderMeta");return hasValidFills(fills)&&(0,jsx_runtime.jsx)(totals_wrapper.Z,{slotWrapper:!0,children:(0,jsx_runtime.jsx)(OrderMetaSlot,{className:classnames_default()(className,"wc-block-components-order-meta"),fillProps:{extensions,cart,context}})})};const{Fill:ExperimentalDiscountsMeta,Slot:DiscountsMetaSlot}=createSlotFill("__experimentalDiscountsMeta");ExperimentalDiscountsMeta.Slot=({className,extensions,cart,context})=>{const{fills}=useSlot("__experimentalDiscountsMeta");return hasValidFills(fills)&&(0,jsx_runtime.jsx)(totals_wrapper.Z,{slotWrapper:!0,children:(0,jsx_runtime.jsx)(DiscountsMetaSlot,{className:classnames_default()(className,"wc-block-components-discounts-meta"),fillProps:{extensions,cart,context}})})};const{Fill:ExperimentalOrderShippingPackages,Slot:OrderShippingPackagesSlot}=createSlotFill("__experimentalOrderShippingPackages"),order_shipping_packages_Slot=({className,noResultsMessage,renderOption,extensions,cart,components,context,collapsible,showItems})=>(0,jsx_runtime.jsx)(OrderShippingPackagesSlot,{className:classnames_default()("wc-block-components-shipping-rates-control",className),fillProps:{collapse:collapsible,collapsible,showItems,noResultsMessage,renderOption,extensions,cart,components,context}});order_shipping_packages_Slot.displayName="Slot",ExperimentalOrderShippingPackages.Slot=order_shipping_packages_Slot;const{Fill:ExperimentalOrderLocalPickupPackages,Slot:OrderLocalPickupPackagesSlot}=createSlotFill("__experimentalOrderLocalPickupPackages"),order_local_pickup_packages_Slot=({extensions,cart,components,renderPickupLocation})=>(0,jsx_runtime.jsx)(OrderLocalPickupPackagesSlot,{className:classnames_default()("wc-block-components-local-pickup-rates-control"),fillProps:{extensions,cart,components,renderPickupLocation}});order_local_pickup_packages_Slot.displayName="Slot",ExperimentalOrderLocalPickupPackages.Slot=order_local_pickup_packages_Slot;__webpack_require__("./packages/components/panel/index.tsx"),__webpack_require__("./packages/components/button/index.ts"),__webpack_require__("./packages/components/label/index.tsx");__webpack_require__("./packages/components/store-notices-container/index.tsx"),__webpack_require__("./packages/components/checkbox-control/index.tsx");var validated_text_input=__webpack_require__("./packages/components/text-input/validated-text-input.tsx"),i18n_build_module=(__webpack_require__("./packages/components/text-input/text-input.tsx"),__webpack_require__("./packages/components/validation-input-error/index.tsx"),__webpack_require__("./packages/components/store-notice/index.tsx"),__webpack_require__("./packages/checkout/utils/index.js"),__webpack_require__("./node_modules/@wordpress/i18n/build-module/index.js")),is_shallow_equal_build_module=__webpack_require__("./node_modules/@wordpress/is-shallow-equal/build-module/index.js"),type_guards_null=__webpack_require__("./assets/js/types/type-guards/null.ts"),object=__webpack_require__("./assets/js/types/type-guards/object.ts");const returnTrue=()=>!0;let checkoutFilters={},cachedValues={};const cachedFilterRuns={},updatePreviousFilterRun=(filterName,arg,extensions,defaultValue)=>{cachedFilterRuns[filterName]={arg,extensions,defaultValue}},checkMembersShallowEqual=(a,b)=>!(!(0,type_guards_null.F)(a)||!(0,type_guards_null.F)(b))||(0,object.Kn)(a)&&(0,object.Kn)(b)&&Object.keys(a).length===Object.keys(b).length&&Object.keys(a).every((aKey=>(0,object.$n)(b,aKey)&&(0,is_shallow_equal_build_module.default)(a[aKey],b[aKey]))),applyCheckoutFilter=({filterName,defaultValue,extensions=null,arg=null,validation=returnTrue})=>{if(!((filterName,arg,extensions,defaultValue)=>{const previousFilterRun=cachedFilterRuns[filterName];if(!previousFilterRun)return updatePreviousFilterRun(filterName,arg,extensions,defaultValue),!0;const{arg:previousArg={},extensions:previousExtensions={},defaultValue:previousDefaultValue=null}=previousFilterRun;return checkMembersShallowEqual(arg,previousArg)?!(defaultValue===previousDefaultValue&&checkMembersShallowEqual(extensions,previousExtensions)||(updatePreviousFilterRun(filterName,arg,extensions,defaultValue),0)):(updatePreviousFilterRun(filterName,arg,extensions,defaultValue),!0)})(filterName,arg,extensions,defaultValue)&&void 0!==cachedValues[filterName])return cachedValues[filterName];const filters=(filterName=>Object.keys(checkoutFilters).map((namespace=>checkoutFilters[namespace][filterName])).filter(Boolean))(filterName);let value=defaultValue;return filters.forEach((filter=>{try{const newValue=filter(value,extensions||{},arg);if(typeof newValue!=typeof value)throw new Error((0,i18n_build_module.sprintf)((0,i18n_build_module.__)("The type returned by checkout filters must be the same as the type they receive. The function received %1$s but returned %2$s.","woo-gutenberg-products-block"),typeof value,typeof newValue));value=validation(newValue)?newValue:value}catch(e){if(default_constants.c$)throw e;console.error(e)}})),cachedValues[filterName]=value,value}}}]);