(()=>{var e,t={4127:(e,t,o)=>{"use strict";o.r(t);var r=o(9307),n=o(4184),s=o.n(n),c=o(444);const a=(0,r.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/SVG",viewBox:"0 0 24 24",fill:"none"},(0,r.createElement)("path",{stroke:"currentColor",strokeWidth:"1.5",fill:"none",d:"M5 3.75h14c.69 0 1.25.56 1.25 1.25v14c0 .69-.56 1.25-1.25 1.25H5c-.69 0-1.25-.56-1.25-1.25V5c0-.69.56-1.25 1.25-1.25z"}),(0,r.createElement)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.4 10.75c0-.47.38-.85.85-.85h9.5c.47 0 .85.38.85.85v1.5c0 .47-.38.85-.85.85h-9.5a.85.85 0 01-.85-.85v-1.5zm1.2.35v.8h8.8v-.8H7.6zM12.4 15.25c0-.47.38-.85.85-.85h3.5c.47 0 .85.38.85.85v1.5c0 .47-.38.85-.85.85h-3.5a.85.85 0 01-.85-.85v-1.5zm1.2.35v.8h2.8v-.8h-2.8zM6.5 15.9a.6.6 0 01.6-.6h2.8a.6.6 0 010 1.2H7.1a.6.6 0 01-.6-.6zM6.5 7.9a.6.6 0 01.6-.6h9.8a.6.6 0 110 1.2H7.1a.6.6 0 01-.6-.6z",clipRule:"evenodd"}));var i=o(1984);const l=window.wp.blocks;var u=o(5736);const d=window.wp.blockEditor;var p=o(4333);const m=(0,r.createContext)({hasContainerWidth:!1,containerClassName:"",isMobile:!1,isSmall:!1,isMedium:!1,isLarge:!1}),g=({children:e,className:t=""})=>{const[o,n]=(()=>{const[e,{width:t}]=(0,p.useResizeObserver)();let o="";return t>700?o="is-large":t>520?o="is-medium":t>400?o="is-small":t&&(o="is-mobile"),[e,o]})(),c={hasContainerWidth:""!==n,containerClassName:n,isMobile:"is-mobile"===n,isSmall:"is-small"===n,isMedium:"is-medium"===n,isLarge:"is-large"===n};return(0,r.createElement)(m.Provider,{value:c},(0,r.createElement)("div",{className:s()(t,n)},o,e))};o(6430);const h=({children:e,className:t})=>(0,r.createElement)(g,{className:s()("wc-block-components-sidebar-layout",t)},e),_=window.wp.data,b=(0,r.createContext)({isEditor:!1,currentPostId:0,currentView:"",previewData:{},getPreviewData:()=>({})}),k=()=>(0,r.useContext)(b),E=({children:e,currentPostId:t=0,previewData:o={},currentView:n="",isPreview:s=!1})=>{const c=(0,_.useSelect)((e=>t||e("core/editor").getCurrentPostId()),[t]),a=(0,r.useCallback)((e=>o&&e in o?o[e]:{}),[o]),i={isEditor:!0,currentPostId:c,currentView:n,previewData:o,getPreviewData:a,isPreview:s};return(0,r.createElement)(b.Provider,{value:i},e)},w=window.wp.plugins,y=window.wc.wcSettings;var v,f=o(4942);const C=(0,y.getSetting)("wcBlocksConfig",{buildPhase:1,pluginUrl:"",productCount:0,defaultAvatar:"",restApiRoutes:{},wordCountType:"words"}),S=C.pluginUrl+"images/",P=(C.pluginUrl,C.buildPhase,null===(v=y.STORE_PAGES.shop)||void 0===v||v.permalink,y.STORE_PAGES.checkout.id),N=(y.STORE_PAGES.checkout.permalink,y.STORE_PAGES.privacy.permalink),T=(y.STORE_PAGES.privacy.title,y.STORE_PAGES.terms.permalink),R=(y.STORE_PAGES.terms.title,y.STORE_PAGES.cart.id),x=y.STORE_PAGES.cart.permalink,A=(y.STORE_PAGES.myaccount.permalink?y.STORE_PAGES.myaccount.permalink:(0,y.getSetting)("wpLoginUrl","/wp-login.php"),(0,y.getSetting)("localPickupEnabled",!1)),I=(0,y.getSetting)("countries",{}),M=(0,y.getSetting)("countryData",{}),O=Object.fromEntries(Object.keys(M).filter((e=>!0===M[e].allowBilling)).map((e=>[e,I[e]||""]))),B=Object.fromEntries(Object.keys(M).filter((e=>!0===M[e].allowBilling)).map((e=>[e,M[e].states||[]]))),D=Object.fromEntries(Object.keys(M).filter((e=>!0===M[e].allowShipping)).map((e=>[e,I[e]||""]))),L=Object.fromEntries(Object.keys(M).filter((e=>!0===M[e].allowShipping)).map((e=>[e,M[e].states||[]]))),F=Object.fromEntries(Object.keys(M).map((e=>[e,M[e].locale||[]]))),U=({imageUrl:e=`${S}/block-error.svg`,header:t=(0,u.__)("Oops!","woo-gutenberg-products-block"),text:o=(0,u.__)("There was an error loading the content.","woo-gutenberg-products-block"),errorMessage:n,errorMessagePrefix:s=(0,u.__)("Error:","woo-gutenberg-products-block"),button:c,showErrorBlock:a=!0})=>a?(0,r.createElement)("div",{className:"wc-block-error wc-block-components-error"},e&&(0,r.createElement)("img",{className:"wc-block-error__image wc-block-components-error__image",src:e,alt:""}),(0,r.createElement)("div",{className:"wc-block-error__content wc-block-components-error__content"},t&&(0,r.createElement)("p",{className:"wc-block-error__header wc-block-components-error__header"},t),o&&(0,r.createElement)("p",{className:"wc-block-error__text wc-block-components-error__text"},o),n&&(0,r.createElement)("p",{className:"wc-block-error__message wc-block-components-error__message"},s?s+" ":"",n),c&&(0,r.createElement)("p",{className:"wc-block-error__button wc-block-components-error__button"},c))):null;o(4578);class V extends r.Component{constructor(...e){super(...e),(0,f.Z)(this,"state",{errorMessage:"",hasError:!1})}static getDerivedStateFromError(e){return void 0!==e.statusText&&void 0!==e.status?{errorMessage:(0,r.createElement)(r.Fragment,null,(0,r.createElement)("strong",null,e.status),":Â ",e.statusText),hasError:!0}:{errorMessage:e.message,hasError:!0}}render(){const{header:e,imageUrl:t,showErrorMessage:o=!0,showErrorBlock:n=!0,text:s,errorMessagePrefix:c,renderError:a,button:i}=this.props,{errorMessage:l,hasError:u}=this.state;return u?"function"==typeof a?a({errorMessage:l}):(0,r.createElement)(U,{showErrorBlock:n,errorMessage:o?l:null,header:e,imageUrl:t,text:s,errorMessagePrefix:c,button:i}):this.props.children}}const Y=V,$=window.wc.wcBlocksData;var j=o(7180),K=o.n(j);let q=function(e){return e.ADD_EVENT_CALLBACK="add_event_callback",e.REMOVE_EVENT_CALLBACK="remove_event_callback",e}({});const H={},z=(e=H,{type:t,eventType:o,id:r,callback:n,priority:s})=>{const c=e.hasOwnProperty(o)?new Map(e[o]):new Map;switch(t){case q.ADD_EVENT_CALLBACK:return c.set(r,{priority:s,callback:n}),{...e,[o]:c};case q.REMOVE_EVENT_CALLBACK:return c.delete(r),{...e,[o]:c}}},Z=(e,t)=>(o,r=10)=>{const n=((e,t,o=10)=>({id:Math.floor(Math.random()*Date.now()).toString(),type:q.ADD_EVENT_CALLBACK,eventType:e,callback:t,priority:o}))(e,o,r);return t(n),()=>{var o;t((o=e,{id:n.id,type:q.REMOVE_EVENT_CALLBACK,eventType:o}))}},W=(0,r.createContext)({onPaymentProcessing:()=>()=>()=>{},onPaymentSetup:()=>()=>()=>{}}),G=({children:e})=>{const{isProcessing:t,isIdle:o,isCalculating:n,hasError:s}=(0,_.useSelect)((e=>{const t=e($.CHECKOUT_STORE_KEY);return{isProcessing:t.isProcessing(),isIdle:t.isIdle(),hasError:t.hasError(),isCalculating:t.isCalculating()}})),{isPaymentReady:c}=(0,_.useSelect)((e=>{const t=e($.PAYMENT_STORE_KEY);return{isPaymentProcessing:t.isPaymentProcessing(),isPaymentReady:t.isPaymentReady()}})),{setValidationErrors:a}=(0,_.useDispatch)($.VALIDATION_STORE_KEY),[i,l]=(0,r.useReducer)(z,{}),{onPaymentSetup:u}=(e=>(0,r.useMemo)((()=>({onPaymentSetup:Z("payment_setup",e)})),[e]))(l),d=(0,r.useRef)(i);(0,r.useEffect)((()=>{d.current=i}),[i]);const{__internalSetPaymentProcessing:p,__internalSetPaymentIdle:m,__internalEmitPaymentProcessingEvent:g}=(0,_.useDispatch)($.PAYMENT_STORE_KEY);(0,r.useEffect)((()=>{!t||s||n||(p(),g(d.current,a))}),[t,s,n,p,g,a]),(0,r.useEffect)((()=>{o&&!c&&m()}),[o,c,m]),(0,r.useEffect)((()=>{s&&c&&m()}),[s,c,m]);const h={onPaymentProcessing:(0,r.useMemo)((()=>function(...e){return K()("onPaymentProcessing",{alternative:"onPaymentSetup",plugin:"WooCommerce Blocks"}),u(...e)}),[u]),onPaymentSetup:u};return(0,r.createElement)(W.Provider,{value:h},e)},X={NONE:"none",INVALID_ADDRESS:"invalid_address",UNKNOWN:"unknown_error"},J={INVALID_COUNTRY:"woocommerce_rest_cart_shipping_rates_invalid_country",MISSING_COUNTRY:"woocommerce_rest_cart_shipping_rates_missing_country",INVALID_STATE:"woocommerce_rest_cart_shipping_rates_invalid_state"},Q={shippingErrorStatus:{isPristine:!0,isValid:!1,hasInvalidAddress:!1,hasError:!1},dispatchErrorStatus:e=>e,shippingErrorTypes:X,onShippingRateSuccess:()=>()=>{},onShippingRateFail:()=>()=>{},onShippingRateSelectSuccess:()=>()=>{},onShippingRateSelectFail:()=>()=>{}},ee=(e,{type:t})=>Object.values(X).includes(t)?t:e,te="shipping_rates_success",oe="shipping_rates_fail",re="shipping_rate_select_success",ne="shipping_rate_select_fail",se=e=>({onSuccess:Z(te,e),onFail:Z(oe,e),onSelectSuccess:Z(re,e),onSelectFail:Z(ne,e)});let ce=function(e){return e.SUCCESS="success",e.FAIL="failure",e.ERROR="error",e}({}),ae=function(e){return e.CART="wc/cart",e.CHECKOUT="wc/checkout",e.PAYMENTS="wc/checkout/payments",e.EXPRESS_PAYMENTS="wc/checkout/express-payments",e.CONTACT_INFORMATION="wc/checkout/contact-information",e.SHIPPING_ADDRESS="wc/checkout/shipping-address",e.BILLING_ADDRESS="wc/checkout/billing-address",e.SHIPPING_METHODS="wc/checkout/shipping-methods",e.CHECKOUT_ACTIONS="wc/checkout/checkout-actions",e}({});const ie=async(e,t,o)=>{const r=((e,t)=>e[t]?Array.from(e[t].values()).sort(((e,t)=>e.priority-t.priority)):[])(e,t),n=[];for(const e of r)try{const t=await Promise.resolve(e.callback(o));"object"==typeof t&&n.push(t)}catch(e){console.error(e)}return!n.length||n};var le=o(2991),ue=o.n(le);const de=window.wp.htmlEntities,pe=e=>"string"==typeof e,me=e=>{const t={};return void 0!==e.label&&(t.label=e.label),void 0!==e.required&&(t.required=e.required),void 0!==e.hidden&&(t.hidden=e.hidden),void 0===e.label||e.optionalLabel||(t.optionalLabel=(0,u.sprintf)(/* translators: %s Field label. */
(0,u.__)("%s (optional)","woo-gutenberg-products-block"),e.label)),e.priority&&("number"==typeof e.priority&&(t.index=e.priority),pe(e.priority)&&(t.index=parseInt(e.priority,10))),e.hidden&&(t.required=!1),t},ge=Object.entries(F).map((([e,t])=>[e,Object.entries(t).map((([e,t])=>[e,me(t)])).reduce(((e,[t,o])=>(e[t]=o,e)),{})])).reduce(((e,[t,o])=>(e[t]=o,e)),{}),he=(e,t,o="")=>{const r=o&&void 0!==ge[o]?ge[o]:{};return e.map((e=>({key:e,...y.defaultAddressFields[e]||{},...r[e]||{},...t[e]||{}}))).sort(((e,t)=>e.index-t.index))},_e=window.wp.url,be=e=>{const t=Object.keys(y.defaultAddressFields),o=he(t,{},e.country),r=Object.assign({},e);return o.forEach((({key:t="",hidden:o=!1})=>{o&&((e,t)=>e in t)(t,e)&&(r[t]="")})),r},ke=e=>!!e.city&&!!e.country,Ee=window.CustomEvent||null,we=(e,t,o=!1,r=!1)=>{if("function"!=typeof jQuery)return()=>{};const n=()=>{((e,{bubbles:t=!1,cancelable:o=!1,element:r,detail:n={}})=>{if(!Ee)return;r||(r=document.body);const s=new Ee(e,{bubbles:t,cancelable:o,detail:n});r.dispatchEvent(s)})(t,{bubbles:o,cancelable:r})};return jQuery(document).on(e,n),()=>jQuery(document).off(e,n)},ye=e=>{const t=null==e?void 0:e.detail;t&&t.preserveCartData||(0,_.dispatch)($.CART_STORE_KEY).invalidateResolutionForStore()},ve=e=>{(null!=e&&e.persisted||"back_forward"===(window.performance&&window.performance.getEntriesByType("navigation").length?window.performance.getEntriesByType("navigation")[0].type:""))&&(0,_.dispatch)($.CART_STORE_KEY).invalidateResolutionForStore()},fe=()=>{1===window.wcBlocksStoreCartListeners.count&&window.wcBlocksStoreCartListeners.remove(),window.wcBlocksStoreCartListeners.count--},Ce={first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},Se={...Ce,email:""},Pe={total_items:"",total_items_tax:"",total_fees:"",total_fees_tax:"",total_discount:"",total_discount_tax:"",total_shipping:"",total_shipping_tax:"",total_price:"",total_tax:"",tax_lines:$.EMPTY_TAX_LINES,currency_code:"",currency_symbol:"",currency_minor_unit:2,currency_decimal_separator:"",currency_thousand_separator:"",currency_prefix:"",currency_suffix:""},Ne=e=>Object.fromEntries(Object.entries(e).map((([e,t])=>[e,(0,de.decodeEntities)(t)]))),Te={cartCoupons:$.EMPTY_CART_COUPONS,cartItems:$.EMPTY_CART_ITEMS,cartFees:$.EMPTY_CART_FEES,cartItemsCount:0,cartItemsWeight:0,crossSellsProducts:$.EMPTY_CART_CROSS_SELLS,cartNeedsPayment:!0,cartNeedsShipping:!0,cartItemErrors:$.EMPTY_CART_ITEM_ERRORS,cartTotals:Pe,cartIsLoading:!0,cartErrors:$.EMPTY_CART_ERRORS,billingAddress:Se,shippingAddress:Ce,shippingRates:$.EMPTY_SHIPPING_RATES,isLoadingRates:!1,cartHasCalculatedShipping:!1,paymentMethods:$.EMPTY_PAYMENT_METHODS,paymentRequirements:$.EMPTY_PAYMENT_REQUIREMENTS,receiveCart:()=>{},receiveCartContents:()=>{},extensions:$.EMPTY_EXTENSIONS},Re=(e={shouldSelect:!0})=>{const{isEditor:t,previewData:o}=k(),n=null==o?void 0:o.previewCart,{shouldSelect:s}=e,c=(0,r.useRef)();(0,r.useEffect)((()=>((()=>{if(window.wcBlocksStoreCartListeners||(window.wcBlocksStoreCartListeners={count:0,remove:()=>{}}),(null===(e=window.wcBlocksStoreCartListeners)||void 0===e?void 0:e.count)>0)return void window.wcBlocksStoreCartListeners.count++;var e;document.body.addEventListener("wc-blocks_added_to_cart",ye),document.body.addEventListener("wc-blocks_removed_from_cart",ye),window.addEventListener("pageshow",ve);const t=we("added_to_cart","wc-blocks_added_to_cart"),o=we("removed_from_cart","wc-blocks_removed_from_cart");window.wcBlocksStoreCartListeners.count=1,window.wcBlocksStoreCartListeners.remove=()=>{document.body.removeEventListener("wc-blocks_added_to_cart",ye),document.body.removeEventListener("wc-blocks_removed_from_cart",ye),window.removeEventListener("pageshow",ve),t(),o()}})(),fe)),[]);const a=(0,_.useSelect)(((e,{dispatch:o})=>{if(!s)return Te;if(t)return{cartCoupons:n.coupons,cartItems:n.items,crossSellsProducts:n.cross_sells,cartFees:n.fees,cartItemsCount:n.items_count,cartItemsWeight:n.items_weight,cartNeedsPayment:n.needs_payment,cartNeedsShipping:n.needs_shipping,cartItemErrors:$.EMPTY_CART_ITEM_ERRORS,cartTotals:n.totals,cartIsLoading:!1,cartErrors:$.EMPTY_CART_ERRORS,billingData:Se,billingAddress:Se,shippingAddress:Ce,extensions:$.EMPTY_EXTENSIONS,shippingRates:n.shipping_rates,isLoadingRates:!1,cartHasCalculatedShipping:n.has_calculated_shipping,paymentRequirements:n.paymentRequirements,receiveCart:"function"==typeof(null==n?void 0:n.receiveCart)?n.receiveCart:()=>{},receiveCartContents:"function"==typeof(null==n?void 0:n.receiveCartContents)?n.receiveCartContents:()=>{}};const r=e($.CART_STORE_KEY),c=r.getCartData(),a=r.getCartErrors(),i=r.getCartTotals(),l=!r.hasFinishedResolution("getCartData"),u=r.isCustomerDataUpdating(),{receiveCart:d,receiveCartContents:p}=o($.CART_STORE_KEY),m=Ne(c.billingAddress),g=c.needsShipping?Ne(c.shippingAddress):m,h=c.fees.length>0?c.fees.map((e=>Ne(e))):$.EMPTY_CART_FEES,_=c.coupons.length>0?c.coupons.map((e=>({...e,label:e.code}))):$.EMPTY_CART_COUPONS;return{cartCoupons:_,cartItems:c.items,crossSellsProducts:c.crossSells,cartFees:h,cartItemsCount:c.itemsCount,cartItemsWeight:c.itemsWeight,cartNeedsPayment:c.needsPayment,cartNeedsShipping:c.needsShipping,cartItemErrors:c.errors,cartTotals:i,cartIsLoading:l,cartErrors:a,billingData:be(m),billingAddress:be(m),shippingAddress:be(g),extensions:c.extensions,shippingRates:c.shippingRates,isLoadingRates:u,cartHasCalculatedShipping:c.hasCalculatedShipping,paymentRequirements:c.paymentRequirements,receiveCart:d,receiveCartContents:p}}),[s]);return c.current&&ue()(c.current,a)||(c.current=a),c.current},xe=e=>null===e,Ae=e=>!xe(e)&&e instanceof Object&&e.constructor===Object;function Ie(e,t){return Ae(e)&&t in e}const Me=e=>e.length,Oe=(0,y.getSetting)("collectableMethodIds",[]),Be=e=>Oe.includes(e.method_id),De=e=>!!A&&(Array.isArray(e)?!!e.find((e=>Oe.includes(e))):Oe.includes(e)),Le=e=>Object.fromEntries(e.map((({package_id:e,shipping_rates:t})=>{var o;return[e,(null===(o=t.find((e=>e.selected)))||void 0===o?void 0:o.rate_id)||""]})));var Fe=o(9127),Ue=o.n(Fe);const Ve=[{destination:{address_1:"",address_2:"",city:"",state:"",postcode:"",country:""},package_id:0,name:(0,u.__)("Shipping","woo-gutenberg-products-block"),items:[{key:"33e75ff09dd601bbe69f351039152189",name:(0,u._x)("Beanie with Logo","example product in Cart Block","woo-gutenberg-products-block"),quantity:2},{key:"6512bd43d9caa6e02c990b0a82652dca",name:(0,u._x)("Beanie","example product in Cart Block","woo-gutenberg-products-block"),quantity:1}],shipping_rates:[{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:(0,u.__)("Flat rate shipping","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"500",taxes:"0",rate_id:"flat_rate:0",instance_id:0,meta_data:[],method_id:"flat_rate",selected:!0},{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:(0,u.__)("Free shipping","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"0",taxes:"0",rate_id:"free_shipping:1",instance_id:0,meta_data:[],method_id:"flat_rate",selected:!1},{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:(0,u.__)("Local pickup","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"0",taxes:"0",rate_id:"pickup_location:1",instance_id:1,meta_data:[{key:"pickup_location",value:"New York"},{key:"pickup_address",value:"123 Easy Street, New York, 12345"}],method_id:"pickup_location",selected:!1},{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:(0,u.__)("Local pickup","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"0",taxes:"0",rate_id:"pickup_location:2",instance_id:1,meta_data:[{key:"pickup_location",value:"Los Angeles"},{key:"pickup_address",value:"123 Easy Street, Los Angeles, California, 90210"}],method_id:"pickup_location",selected:!1}]}],Ye=(0,y.getSetting)("displayCartPricesIncludingTax",!1),$e={coupons:[],shipping_rates:(0,y.getSetting)("shippingMethodsExist",!1)||(0,y.getSetting)("localPickupEnabled",!1)?Ve:[],items:[{key:"1",id:1,quantity:2,catalog_visibility:"visible",name:(0,u.__)("Beanie","woo-gutenberg-products-block"),summary:(0,u.__)("Beanie","woo-gutenberg-products-block"),short_description:(0,u.__)("Warm hat for winter","woo-gutenberg-products-block"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-beanie",permalink:"https://example.org",low_stock_remaining:2,backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,quantity_limits:{minimum:1,maximum:99,multiple_of:1,editable:!0},images:[{id:10,src:S+"previews/beanie.jpg",thumbnail:S+"previews/beanie.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:(0,u.__)("Color","woo-gutenberg-products-block"),value:(0,u.__)("Yellow","woo-gutenberg-products-block")},{attribute:(0,u.__)("Size","woo-gutenberg-products-block"),value:(0,u.__)("Small","woo-gutenberg-products-block")}],prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ye?"12000":"10000",regular_price:Ye?"12000":"10000",sale_price:Ye?"12000":"10000",price_range:null,raw_prices:{precision:6,price:Ye?"12000000":"10000000",regular_price:Ye?"12000000":"10000000",sale_price:Ye?"12000000":"10000000"}},totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",line_subtotal:"2000",line_subtotal_tax:"400",line_total:"2000",line_total_tax:"400"},extensions:{},item_data:[]},{key:"2",id:2,quantity:1,catalog_visibility:"visible",name:(0,u.__)("Cap","woo-gutenberg-products-block"),summary:(0,u.__)("Cap","woo-gutenberg-products-block"),short_description:(0,u.__)("Lightweight baseball cap","woo-gutenberg-products-block"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-cap",low_stock_remaining:null,permalink:"https://example.org",backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,quantity_limits:{minimum:1,maximum:99,multiple_of:1,editable:!0},images:[{id:11,src:S+"previews/cap.jpg",thumbnail:S+"previews/cap.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:(0,u.__)("Color","woo-gutenberg-products-block"),value:(0,u.__)("Orange","woo-gutenberg-products-block")}],prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ye?"2400":"2000",regular_price:Ye?"2400":"2000",sale_price:Ye?"2400":"2000",price_range:null,raw_prices:{precision:6,price:Ye?"24000000":"20000000",regular_price:Ye?"24000000":"20000000",sale_price:Ye?"24000000":"20000000"}},totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",line_subtotal:"2000",line_subtotal_tax:"400",line_total:"2000",line_total_tax:"400"},extensions:{},item_data:[]}],cross_sells:[{id:1,name:(0,u.__)("Polo","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-polo",short_description:(0,u.__)("Polo","woo-gutenberg-products-block"),description:(0,u.__)("Polo","woo-gutenberg-products-block"),on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ye?"24000":"20000",regular_price:Ye?"24000":"20000",sale_price:Ye?"12000":"10000",price_range:null},price_html:"",average_rating:"4.5",review_count:2,images:[{id:17,src:S+"previews/polo.jpg",thumbnail:S+"previews/polo.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:2,name:(0,u.__)("Long Sleeve Tee","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-long-sleeve-tee",short_description:(0,u.__)("Long Sleeve Tee","woo-gutenberg-products-block"),description:(0,u.__)("Long Sleeve Tee","woo-gutenberg-products-block"),on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ye?"30000":"25000",regular_price:Ye?"30000":"25000",sale_price:Ye?"30000":"25000",price_range:null},price_html:"",average_rating:"4",review_count:2,images:[{id:17,src:S+"previews/long-sleeve-tee.jpg",thumbnail:S+"previews/long-sleeve-tee.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:3,name:(0,u.__)("Hoodie with Zipper","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-zipper",short_description:(0,u.__)("Hoodie with Zipper","woo-gutenberg-products-block"),description:(0,u.__)("Hoodie with Zipper","woo-gutenberg-products-block"),on_sale:!0,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ye?"15000":"12500",regular_price:Ye?"30000":"25000",sale_price:Ye?"15000":"12500",price_range:null},price_html:"",average_rating:"1",review_count:2,images:[{id:17,src:S+"previews/hoodie-with-zipper.jpg",thumbnail:S+"previews/hoodie-with-zipper.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:4,name:(0,u.__)("Hoodie with Logo","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-logo",short_description:(0,u.__)("Polo","woo-gutenberg-products-block"),description:(0,u.__)("Polo","woo-gutenberg-products-block"),on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ye?"4500":"4250",regular_price:Ye?"4500":"4250",sale_price:Ye?"4500":"4250",price_range:null},price_html:"",average_rating:"5",review_count:2,images:[{id:17,src:S+"previews/hoodie-with-logo.jpg",thumbnail:S+"previews/hoodie-with-logo.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:5,name:(0,u.__)("Hoodie with Pocket","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-hoodie-with-pocket",short_description:(0,u.__)("Hoodie with Pocket","woo-gutenberg-products-block"),description:(0,u.__)("Hoodie with Pocket","woo-gutenberg-products-block"),on_sale:!0,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ye?"3500":"3250",regular_price:Ye?"4500":"4250",sale_price:Ye?"3500":"3250",price_range:null},price_html:"",average_rating:"3.75",review_count:4,images:[{id:17,src:S+"previews/hoodie-with-pocket.jpg",thumbnail:S+"previews/hoodie-with-pocket.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}},{id:6,name:(0,u.__)("T-Shirt","woo-gutenberg-products-block"),parent:0,type:"simple",variation:"",permalink:"https://example.org",sku:"woo-t-shirt",short_description:(0,u.__)("T-Shirt","woo-gutenberg-products-block"),description:(0,u.__)("T-Shirt","woo-gutenberg-products-block"),on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:Ye?"1800":"1500",regular_price:Ye?"1800":"1500",sale_price:Ye?"1800":"1500",price_range:null},price_html:"",average_rating:"3",review_count:2,images:[{id:17,src:S+"previews/tshirt.jpg",thumbnail:S+"previews/tshirt.jpg",srcset:"",sizes:"",name:"",alt:""}],categories:[],tags:[],attributes:[],variations:[],has_options:!1,is_purchasable:!0,is_in_stock:!0,is_on_backorder:!1,low_stock_remaining:null,sold_individually:!1,add_to_cart:{text:"",description:"",url:"",minimum:1,maximum:99,multiple_of:1}}],fees:[{id:"fee",name:(0,u.__)("Fee","woo-gutenberg-products-block"),totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",total:"100",total_tax:"20"}}],items_count:3,items_weight:0,needs_payment:!0,needs_shipping:(0,y.getSetting)("shippingEnabled",!0),has_calculated_shipping:!0,shipping_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},billing_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",email:"",phone:""},totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",total_items:"4000",total_items_tax:"800",total_fees:"100",total_fees_tax:"20",total_discount:"0",total_discount_tax:"0",total_shipping:"0",total_shipping_tax:"0",total_tax:"820",total_price:"4920",tax_lines:[{name:(0,u.__)("Sales tax","woo-gutenberg-products-block"),rate:"20%",price:"820"}]},errors:[],payment_methods:["cod","bacs","cheque"],payment_requirements:["products"],extensions:{}},je=window.wp.hooks,Ke=()=>({dispatchStoreEvent:(0,r.useCallback)(((e,t={})=>{try{(0,je.doAction)(`experimental__woocommerce_blocks-${e}`,t)}catch(e){console.error(e)}}),[]),dispatchCheckoutEvent:(0,r.useCallback)(((e,t={})=>{try{(0,je.doAction)(`experimental__woocommerce_blocks-checkout-${e}`,{...t,storeCart:(0,_.select)("wc/store/cart").getCartData()})}catch(e){console.error(e)}}),[])}),qe=()=>{const{shippingRates:e,needsShipping:t,hasCalculatedShipping:o,isLoadingRates:n,isCollectable:s,isSelectingRate:c}=(0,_.useSelect)((e=>{const t=!!e("core/editor"),o=e($.CART_STORE_KEY),r=t?$e.shipping_rates:o.getShippingRates();return{shippingRates:r,needsShipping:t?$e.needs_shipping:o.getNeedsShipping(),hasCalculatedShipping:t?$e.has_calculated_shipping:o.getHasCalculatedShipping(),isLoadingRates:!t&&o.isCustomerDataUpdating(),isCollectable:r.every((({shipping_rates:e})=>e.find((({method_id:e})=>De(e))))),isSelectingRate:!t&&o.isShippingRateBeingSelected()}})),a=(0,r.useRef)({});(0,r.useEffect)((()=>{const t=Le(e);Ae(t)&&!Ue()(a.current,t)&&(a.current=t)}),[e]);const{selectShippingRate:i}=(0,_.useDispatch)($.CART_STORE_KEY),l=De(Object.values(a.current).map((e=>e.split(":")[0]))),{dispatchCheckoutEvent:u}=Ke(),d=(0,r.useCallback)(((e,t)=>{let o;void 0!==e&&(o=De(e.split(":")[0])?i(e,null):i(e,t),o.then((()=>{u("set-selected-shipping-rate",{shippingRateId:e})})).catch((e=>{(0,$.processErrorResponse)(e)})))}),[i,u]);return{isSelectingRate:c,selectedRates:a.current,selectShippingRate:d,shippingRates:e,needsShipping:t,hasCalculatedShipping:o,isLoadingRates:n,isCollectable:s,hasSelectedLocalPickup:l}},{NONE:He,INVALID_ADDRESS:ze,UNKNOWN:Ze}=X,We=(0,r.createContext)(Q),Ge=()=>(0,r.useContext)(We),Xe=({children:e})=>{const{__internalIncrementCalculating:t,__internalDecrementCalculating:o}=(0,_.useDispatch)($.CHECKOUT_STORE_KEY),{shippingRates:n,isLoadingRates:s,cartErrors:c}=Re(),{selectedRates:a,isSelectingRate:i}=qe(),[l,u]=(0,r.useReducer)(ee,He),[d,p]=(0,r.useReducer)(z,{}),m=(0,r.useRef)(d),g=(0,r.useMemo)((()=>({onShippingRateSuccess:se(p).onSuccess,onShippingRateFail:se(p).onFail,onShippingRateSelectSuccess:se(p).onSelectSuccess,onShippingRateSelectFail:se(p).onSelectFail})),[p]);(0,r.useEffect)((()=>{m.current=d}),[d]),(0,r.useEffect)((()=>{s?t():o()}),[s,t,o]),(0,r.useEffect)((()=>{i?t():o()}),[t,o,i]),(0,r.useEffect)((()=>{c.length>0&&c.some((e=>!(!e.code||!Object.values(J).includes(e.code))))?u({type:ze}):u({type:He})}),[c]);const h=(0,r.useMemo)((()=>({isPristine:l===He,isValid:l===He,hasInvalidAddress:l===ze,hasError:l===Ze||l===ze})),[l]);(0,r.useEffect)((()=>{s||0!==n.length&&!h.hasError||ie(m.current,oe,{hasInvalidAddress:h.hasInvalidAddress,hasError:h.hasError})}),[n,s,h.hasError,h.hasInvalidAddress]),(0,r.useEffect)((()=>{!s&&n.length>0&&!h.hasError&&ie(m.current,te,n)}),[n,s,h.hasError]),(0,r.useEffect)((()=>{i||(h.hasError?ie(m.current,ne,{hasError:h.hasError,hasInvalidAddress:h.hasInvalidAddress}):ie(m.current,re,a.current))}),[a,i,h.hasError,h.hasInvalidAddress]);const b={shippingErrorStatus:h,dispatchErrorStatus:u,shippingErrorTypes:X,...g};return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(We.Provider,{value:b},e))};function Je(e,t){const o=(0,r.useRef)();return(0,r.useEffect)((()=>{o.current===e||t&&!t(e,o.current)||(o.current=e)}),[e,t]),o.current}const Qe={},et={},tt=()=>Qe,ot=()=>et,rt=(0,r.createContext)({onSubmit:()=>{},onCheckoutAfterProcessingWithSuccess:()=>()=>{},onCheckoutAfterProcessingWithError:()=>()=>{},onCheckoutBeforeProcessing:()=>()=>{},onCheckoutValidationBeforeProcessing:()=>()=>{},onCheckoutSuccess:()=>()=>{},onCheckoutFail:()=>()=>{},onCheckoutValidation:()=>()=>{}}),nt=()=>(0,r.useContext)(rt),st=({children:e,redirectUrl:t})=>{const o=tt(),n=ot(),{isEditor:s}=k(),{__internalUpdateAvailablePaymentMethods:c}=(0,_.useDispatch)($.PAYMENT_STORE_KEY);(0,r.useEffect)((()=>{(s||0!==Object.keys(o).length||0!==Object.keys(n).length)&&c()}),[s,o,n,c]);const{__internalSetRedirectUrl:a,__internalEmitValidateEvent:i,__internalEmitAfterProcessingEvents:l,__internalSetBeforeProcessing:u}=(0,_.useDispatch)($.CHECKOUT_STORE_KEY),{checkoutRedirectUrl:d,checkoutStatus:p,isCheckoutBeforeProcessing:m,isCheckoutAfterProcessing:g,checkoutHasError:h,checkoutOrderId:b,checkoutOrderNotes:E,checkoutCustomerId:w}=(0,_.useSelect)((e=>{const t=e($.CHECKOUT_STORE_KEY);return{checkoutRedirectUrl:t.getRedirectUrl(),checkoutStatus:t.getCheckoutStatus(),isCheckoutBeforeProcessing:t.isBeforeProcessing(),isCheckoutAfterProcessing:t.isAfterProcessing(),checkoutHasError:t.hasError(),checkoutOrderId:t.getOrderId(),checkoutOrderNotes:t.getOrderNotes(),checkoutCustomerId:t.getCustomerId()}}));t&&t!==d&&a(t);const{setValidationErrors:y}=(0,_.useDispatch)($.VALIDATION_STORE_KEY),{dispatchCheckoutEvent:v}=Ke(),{checkoutNotices:f,paymentNotices:C,expressPaymentNotices:S}=(0,_.useSelect)((e=>{const{getNotices:t}=e("core/notices");return{checkoutNotices:Object.values(ae).filter((e=>e!==ae.PAYMENTS&&e!==ae.EXPRESS_PAYMENTS)).reduce(((e,o)=>[...e,...t(o)]),[]),paymentNotices:t(ae.PAYMENTS),expressPaymentNotices:t(ae.EXPRESS_PAYMENTS)}}),[]),[P,N]=(0,r.useReducer)(z,{}),T=(0,r.useRef)(P),{onCheckoutValidation:R,onCheckoutSuccess:x,onCheckoutFail:A}=(e=>(0,r.useMemo)((()=>({onCheckoutSuccess:Z("checkout_success",e),onCheckoutFail:Z("checkout_fail",e),onCheckoutValidation:Z("checkout_validation",e)})),[e]))(N);(0,r.useEffect)((()=>{T.current=P}),[P]);const I=(0,r.useMemo)((()=>function(...e){return K()("onCheckoutBeforeProcessing",{alternative:"onCheckoutValidation",plugin:"WooCommerce Blocks"}),R(...e)}),[R]),M=(0,r.useMemo)((()=>function(...e){return K()("onCheckoutValidationBeforeProcessing",{since:"9.7.0",alternative:"onCheckoutValidation",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8381"}),R(...e)}),[R]),O=(0,r.useMemo)((()=>function(...e){return K()("onCheckoutAfterProcessingWithSuccess",{since:"9.7.0",alternative:"onCheckoutSuccess",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8381"}),x(...e)}),[x]),B=(0,r.useMemo)((()=>function(...e){return K()("onCheckoutAfterProcessingWithError",{since:"9.7.0",alternative:"onCheckoutFail",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8381"}),A(...e)}),[A]);(0,r.useEffect)((()=>{m&&i({observers:T.current,setValidationErrors:y})}),[m,y,i]);const D=Je(p),L=Je(h);(0,r.useEffect)((()=>{p===D&&h===L||g&&l({observers:T.current,notices:{checkoutNotices:f,paymentNotices:C,expressPaymentNotices:S}})}),[p,h,d,b,w,E,g,m,D,L,f,S,C,i,l]);const F={onSubmit:(0,r.useCallback)((()=>{v("submit"),u()}),[v,u]),onCheckoutBeforeProcessing:I,onCheckoutValidationBeforeProcessing:M,onCheckoutAfterProcessingWithSuccess:O,onCheckoutAfterProcessingWithError:B,onCheckoutSuccess:x,onCheckoutFail:A,onCheckoutValidation:R};return(0,r.createElement)(rt.Provider,{value:F},e)},ct=window.wp.apiFetch;var at=o.n(ct);(0,u.__)("Something went wrong. Please contact us to get assistance.","woo-gutenberg-products-block");const it=window.wc.wcBlocksRegistry,lt=(e,t,o)=>{const r=Object.keys(e).map((t=>({key:t,value:e[t]})),[]),n=`wc-${o}-new-payment-method`;return r.push({key:n,value:t}),r},ut=e=>{if(!e)return;const{__internalSetCustomerId:t}=(0,_.dispatch)($.CHECKOUT_STORE_KEY);at().setNonce&&"function"==typeof at().setNonce&&at().setNonce(e),null!=e&&e.get("User-ID")&&t(parseInt(e.get("User-ID")||"0",10))},dt=()=>{const{onCheckoutValidation:e}=nt(),{hasError:t,redirectUrl:o,isProcessing:n,isBeforeProcessing:s,isComplete:c,orderNotes:a,shouldCreateAccount:i,extensionData:l}=(0,_.useSelect)((e=>{const t=e($.CHECKOUT_STORE_KEY);return{hasError:t.hasError(),redirectUrl:t.getRedirectUrl(),isProcessing:t.isProcessing(),isBeforeProcessing:t.isBeforeProcessing(),isComplete:t.isComplete(),orderNotes:t.getOrderNotes(),shouldCreateAccount:t.getShouldCreateAccount(),extensionData:t.getExtensionData()}})),{__internalSetHasError:d,__internalProcessCheckoutResponse:p}=(0,_.useDispatch)($.CHECKOUT_STORE_KEY),m=(0,_.useSelect)((e=>e($.VALIDATION_STORE_KEY).hasValidationErrors)),{shippingErrorStatus:g}=Ge(),{billingAddress:h,shippingAddress:b}=(0,_.useSelect)((e=>e($.CART_STORE_KEY).getCustomerData())),{cartNeedsPayment:k,cartNeedsShipping:E,receiveCartContents:w}=Re(),{activePaymentMethod:y,paymentMethodData:v,isExpressPaymentMethodActive:f,hasPaymentError:C,isPaymentReady:S,shouldSavePayment:P}=(0,_.useSelect)((e=>{const t=e($.PAYMENT_STORE_KEY);return{activePaymentMethod:t.getActivePaymentMethod(),paymentMethodData:t.getPaymentMethodData(),isExpressPaymentMethodActive:t.isExpressPaymentMethodActive(),hasPaymentError:t.hasPaymentError(),isPaymentReady:t.isPaymentReady(),shouldSavePayment:t.getShouldSavePaymentMethod()}}),[]),N=(0,it.getPaymentMethods)(),T=(0,it.getExpressPaymentMethods)(),R=(0,r.useRef)(h),x=(0,r.useRef)(b),A=(0,r.useRef)(o),[I,M]=(0,r.useState)(!1),O=(0,r.useMemo)((()=>{var e;const t={...T,...N};return null==t||null===(e=t[y])||void 0===e?void 0:e.paymentMethodId}),[y,T,N]),B=m()&&!f||C||g.hasError,D=!t&&!B&&(S||!k)&&n;(0,r.useEffect)((()=>{B===t||!n&&!s||f||d(B)}),[B,t,n,s,f,d]),(0,r.useEffect)((()=>{R.current=h,x.current=b,A.current=o}),[h,b,o]);const L=(0,r.useCallback)((()=>m()?void 0!==(0,_.select)($.VALIDATION_STORE_KEY).getValidationError("shipping-rates-error")&&{errorMessage:(0,u.__)("Sorry, this order requires a shipping option.","woo-gutenberg-products-block")}:C?{errorMessage:(0,u.__)("There was a problem with your payment option.","woo-gutenberg-products-block"),context:"wc/checkout/payments"}:!g.hasError||{errorMessage:(0,u.__)("There was a problem with your shipping option.","woo-gutenberg-products-block"),context:"wc/checkout/shipping-methods"}),[m,C,g.hasError]);(0,r.useEffect)((()=>{let t;return f||(t=e(L,0)),()=>{f||"function"!=typeof t||t()}}),[e,L,f]),(0,r.useEffect)((()=>{A.current&&(window.location.href=A.current)}),[c]);const F=(0,r.useCallback)((async()=>{if(I)return;M(!0),(()=>{const e=(0,_.select)("wc/store/store-notices").getRegisteredContainers(),{removeNotice:t}=(0,_.dispatch)("core/notices"),{getNotices:o}=(0,_.select)("core/notices");e.forEach((e=>{o(e).forEach((o=>{t(o.id,e)}))}))})();const e=k?{payment_method:O,payment_data:lt(v,P,y)}:{},t={shipping_address:E?be(x.current):void 0,billing_address:be(R.current),customer_note:a,create_account:i,...e,extensions:{...l}};at()({path:"/wc/store/v1/checkout",method:"POST",data:t,cache:"no-store",parse:!1}).then((e=>{if(function(e){if("object"!=typeof e||null===e||!("body"in e)||!("headers"in e))throw new Error("Response not valid")}(e),ut(e.headers),!e.ok)throw e;return e.json()})).then((e=>{p(e),M(!1)})).catch((e=>{ut(null==e?void 0:e.headers);try{e.json().then((e=>e)).then((e=>{var t;null!==(t=e.data)&&void 0!==t&&t.cart&&w(e.data.cart),(0,$.processErrorResponse)(e),p(e)}))}catch{(0,$.processErrorResponse)({code:"unknown_error",message:(0,u.__)("Something went wrong. Please try placing your order again.","woo-gutenberg-products-block"),data:null})}d(!0),M(!1)}))}),[I,k,O,v,P,y,a,i,l,E,w,d,p]);return(0,r.useEffect)((()=>{D&&!I&&F()}),[F,D,I]),null},pt=({children:e,redirectUrl:t})=>(0,r.createElement)(st,{redirectUrl:t},(0,r.createElement)(Xe,null,(0,r.createElement)(G,null,e,(0,r.createElement)(Y,{renderError:y.CURRENT_USER_IS_ADMIN?null:()=>null},(0,r.createElement)(w.PluginArea,{scope:"woocommerce-checkout"})),(0,r.createElement)(dt,null)))),mt={cc:[{method:{gateway:"credit-card",last4:"5678",brand:"Visa"},expires:"12/20",is_default:!1,tokenId:"1"}]},gt=window.wp.components,ht=window.wc.blocksCheckout;var _t=o(5921);const bt=(0,r.forwardRef)((({children:e,className:t=""},o)=>(0,r.createElement)("div",{ref:o,className:s()("wc-block-components-main",t)},e))),kt=(0,r.createContext)({showCompanyField:!1,showApartmentField:!1,showPhoneField:!1,requireCompanyField:!1,requirePhoneField:!1,showOrderNotes:!0,showPolicyLinks:!0,showReturnToCart:!0,cartPageId:0,showRateAfterTaxName:!1}),Et=(0,r.createContext)({addressFieldControls:()=>null}),wt=()=>(0,r.useContext)(kt),yt=()=>(0,r.useContext)(Et),vt=["core/paragraph","core/image","core/separator"],ft=e=>{const t=(0,ht.applyCheckoutFilter)({filterName:"additionalCartCheckoutInnerBlockTypes",defaultValue:[],extensions:(0,_.select)($.CART_STORE_KEY).getCartData().extensions,arg:{block:e},validation:e=>{if(Array.isArray(e)&&e.every((e=>"string"==typeof e)))return!0;throw new Error("allowedBlockTypes filters must return an array of strings.")}});return Array.from(new Set([...(0,l.getBlockTypes)().filter((t=>((null==t?void 0:t.parent)||[]).includes(e))).map((({name:e})=>e)),...vt,...t]))},Ct=({clientId:e,registeredBlocks:t,defaultTemplate:o=[]})=>{const n=(0,r.useRef)(t),s=(0,r.useRef)(o),c=(0,_.useRegistry)(),{isPreview:a}=k();(0,r.useEffect)((()=>{let t=!1;if(a)return;const{replaceInnerBlocks:o}=(0,_.dispatch)("core/block-editor");return c.subscribe((()=>{if(!c.select("core/block-editor").getBlock(e))return;const r=c.select("core/block-editor").getBlocks(e);if(0===r.length&&s.current.length>0&&!t){const r=(0,l.createBlocksFromInnerBlocksTemplate)(s.current);if(0!==r.length)return t=!0,void o(e,r)}const a=n.current.map((e=>(0,l.getBlockType)(e))),i=((e,t)=>{const o=t.filter((e=>e&&(({attributes:e})=>{var t,o,r;return Boolean((null===(t=e.lock)||void 0===t?void 0:t.remove)||(null===(o=e.lock)||void 0===o||null===(r=o.default)||void 0===r?void 0:r.remove))})(e))),r=[];return o.forEach((t=>{if(void 0===t)return;const o=e.find((e=>e.name===t.name));o||r.push(t)})),r})(r,a);if(0===i.length)return;let u=-1;const d=i.map((e=>{const t=s.current.findIndex((([t])=>t===e.name)),o=(0,l.createBlock)(e.name);return-1===u&&(u=(({defaultTemplatePosition:e,innerBlocks:t,currentDefaultTemplate:o})=>{switch(e){case-1:return t.length;case 0:return 0;default:const r=o.current[e-1],n=t.findIndex((({name:e})=>e===r[0]));return-1===n?e:n+1}})({defaultTemplatePosition:t,innerBlocks:r,currentDefaultTemplate:s})),o}));c.batch((()=>{c.dispatch("core/block-editor").insertBlocks(d,u,e)}))}),"core/block-editor")}),[e,a,c])};o(3969),(0,l.registerBlockType)("woocommerce/checkout-fields-block",{icon:{src:(0,r.createElement)(i.Z,{icon:_t.Z,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e,attributes:t})=>{const o=(0,d.useBlockProps)({className:s()("wc-block-checkout__main",null==t?void 0:t.className)}),n=ft(ht.innerBlockAreas.CHECKOUT_FIELDS),{addressFieldControls:c}=yt(),a=[["woocommerce/checkout-express-payment-block",{},[]],["woocommerce/checkout-contact-information-block",{},[]],["woocommerce/checkout-shipping-method-block",{},[]],["woocommerce/checkout-pickup-options-block",{},[]],["woocommerce/checkout-shipping-address-block",{},[]],["woocommerce/checkout-billing-address-block",{},[]],["woocommerce/checkout-shipping-methods-block",{},[]],["woocommerce/checkout-payment-block",{},[]],["woocommerce/checkout-order-note-block",{},[]],["woocommerce/checkout-terms-block",{},[]],["woocommerce/checkout-actions-block",{},[]]].filter(Boolean);return Ct({clientId:e,registeredBlocks:n,defaultTemplate:a}),(0,r.createElement)(bt,{...o},(0,r.createElement)(c,null),(0,r.createElement)("form",{className:"wc-block-components-form wc-block-checkout__form"},(0,r.createElement)(d.InnerBlocks,{allowedBlocks:n,templateLock:!1,template:a,renderAppender:d.InnerBlocks.ButtonBlockAppender})))},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()},(0,r.createElement)(d.InnerBlocks.Content,null))});const St=(0,r.forwardRef)((({children:e,className:t=""},o)=>(0,r.createElement)("div",{ref:o,className:s()("wc-block-components-sidebar",t)},e)));o(7186),(0,l.registerBlockType)("woocommerce/checkout-totals-block",{icon:{src:(0,r.createElement)(i.Z,{icon:_t.Z,className:"wc-block-editor-components-block-icon"})},edit:({clientId:e,attributes:t})=>{const o=(0,d.useBlockProps)({className:s()("wc-block-checkout__sidebar",null==t?void 0:t.className)}),n=ft(ht.innerBlockAreas.CHECKOUT_TOTALS),c=[["woocommerce/checkout-order-summary-block",{},[]]];return Ct({clientId:e,registeredBlocks:n,defaultTemplate:c}),(0,r.createElement)(St,{...o},(0,r.createElement)(d.InnerBlocks,{allowedBlocks:n,templateLock:!1,template:c,renderAppender:d.InnerBlocks.ButtonBlockAppender}))},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()},(0,r.createElement)(d.InnerBlocks.Content,null))});var Pt=o(5427);const Nt=()=>{const{customerData:e,isInitialized:t}=(0,_.useSelect)((e=>{const t=e($.CART_STORE_KEY);return{customerData:t.getCustomerData(),isInitialized:t.hasFinishedResolution("getCartData")}})),{setShippingAddress:o,setBillingAddress:r}=(0,_.useDispatch)($.CART_STORE_KEY);return{isInitialized:t,billingAddress:e.billingAddress,shippingAddress:e.shippingAddress,setBillingAddress:r,setShippingAddress:o}},Tt=()=>{const{needsShipping:e}=qe(),{useShippingAsBilling:t,prefersCollection:o}=(0,_.useSelect)((e=>({useShippingAsBilling:e($.CHECKOUT_STORE_KEY).getUseShippingAsBilling(),prefersCollection:e($.CHECKOUT_STORE_KEY).prefersCollection()}))),{__internalSetUseShippingAsBilling:n}=(0,_.useDispatch)($.CHECKOUT_STORE_KEY),{billingAddress:s,setBillingAddress:c,shippingAddress:a,setShippingAddress:i}=Nt(),l=(0,r.useCallback)((e=>{c({email:e})}),[c]),u=(0,r.useCallback)((e=>{c({phone:e})}),[c]),d=(0,r.useCallback)((e=>{i({phone:e})}),[i]),p=(0,y.getSetting)("forcedBillingAddress",!1);return{shippingAddress:a,billingAddress:s,setShippingAddress:i,setBillingAddress:c,setEmail:l,setBillingPhone:u,setShippingPhone:d,defaultAddressFields:y.defaultAddressFields,useShippingAsBilling:t,setUseShippingAsBilling:n,needsShipping:e,showShippingFields:!p&&e&&!o,showShippingMethods:e&&!o,showBillingFields:!e||!t||o,forcedBillingAddress:p,useBillingAsShipping:p||o}};o(5198);const Rt=({children:e,className:t,headingLevel:o,...n})=>{const c=s()("wc-block-components-title",t),a=`h${o}`;return(0,r.createElement)(a,{className:c,...n},e)},xt=({children:e,stepHeadingContent:t})=>(0,r.createElement)("div",{className:"wc-block-components-checkout-step__heading"},(0,r.createElement)(Rt,{"aria-hidden":"true",className:"wc-block-components-checkout-step__title",headingLevel:"2"},e),!!t&&(0,r.createElement)("span",{className:"wc-block-components-checkout-step__heading-content"},t)),At=({attributes:e,setAttributes:t,className:o="",children:n})=>{const{title:c="",description:a="",showStepNumber:i=!0}=e,l=(0,d.useBlockProps)({className:s()("wc-block-components-checkout-step",o,{"wc-block-components-checkout-step--with-step-number":i})});return(0,r.createElement)("div",{...l},(0,r.createElement)(d.InspectorControls,null,(0,r.createElement)(gt.PanelBody,{title:(0,u.__)("Form Step Options","woo-gutenberg-products-block")},(0,r.createElement)(gt.ToggleControl,{label:(0,u.__)("Show step number","woo-gutenberg-products-block"),checked:i,onChange:()=>t({showStepNumber:!i})}))),(0,r.createElement)(xt,null,(0,r.createElement)(d.PlainText,{className:"",value:c,onChange:e=>t({title:e}),style:{backgroundColor:"transparent"}})),(0,r.createElement)("div",{className:"wc-block-components-checkout-step__container"},(0,r.createElement)("p",{className:"wc-block-components-checkout-step__description"},(0,r.createElement)(d.PlainText,{className:a?"":"wc-block-components-checkout-step__description-placeholder",value:a,placeholder:(0,u.__)("Optional text for this form step.","woo-gutenberg-products-block"),onChange:e=>t({description:e}),style:{backgroundColor:"transparent"}})),(0,r.createElement)("div",{className:"wc-block-components-checkout-step__content"},n)))};o(131);const It=({block:e})=>{const{"data-block":t}=(0,d.useBlockProps)(),o=ft(e);return Ct({clientId:t,registeredBlocks:o}),(0,r.createElement)("div",{className:"wc-block-checkout__additional_fields"},(0,r.createElement)(d.InnerBlocks,{allowedBlocks:o}))},Mt=()=>(0,r.createElement)(d.InnerBlocks.Content,null);var Ot=o(3298),Bt=o(5904),Dt=o(4697);const Lt=["BUTTON","FIELDSET","INPUT","OPTGROUP","OPTION","SELECT","TEXTAREA","A"],Ft=({children:e,style:t={},...o})=>{const n=(0,r.useRef)(null),s=()=>{n.current&&Bt.focus.focusable.find(n.current).forEach((e=>{Lt.includes(e.nodeName)&&e.setAttribute("tabindex","-1"),e.hasAttribute("contenteditable")&&e.setAttribute("contenteditable","false")}))},c=(0,Dt.y1)(s,0,{leading:!0});return(0,r.useLayoutEffect)((()=>{let e;return s(),n.current&&(e=new window.MutationObserver(c),e.observe(n.current,{childList:!0,attributes:!0,subtree:!0})),()=>{e&&e.disconnect(),c.cancel()}}),[c]),(0,r.createElement)("div",{ref:n,"aria-disabled":"true",style:{userSelect:"none",pointerEvents:"none",cursor:"normal",...t},...o},e)};var Ut=o(5287);o(5821);const Vt=(0,p.withInstanceId)((({id:e,className:t,label:o,onChange:n,options:c,value:a,required:i=!1,errorMessage:l=(0,u.__)("Please select a value.","woo-gutenberg-products-block"),errorId:d,instanceId:p="0",autoComplete:m="off"})=>{const g=(0,r.useRef)(null),h=e||"control-"+p,b=d||h,{setValidationErrors:k,clearValidationError:E}=(0,_.useDispatch)($.VALIDATION_STORE_KEY),w=(0,_.useSelect)((e=>e($.VALIDATION_STORE_KEY).getValidationError(b)));return(0,r.useEffect)((()=>(!i||a?E(b):k({[b]:{message:l,hidden:!0}}),()=>{E(b)})),[E,a,b,l,i,k]),(0,r.createElement)("div",{id:h,className:s()("wc-block-components-combobox",t,{"is-active":a,"has-error":(null==w?void 0:w.message)&&!(null!=w&&w.hidden)}),ref:g},(0,r.createElement)(Ut.Z,{className:"wc-block-components-combobox-control",label:o,onChange:n,onFilterValueChange:e=>{if(e.length){const t=Ae(g.current)?g.current.ownerDocument.activeElement:void 0;if(t&&Ae(g.current)&&g.current.contains(t))return;const o=e.toLocaleUpperCase(),r=c.find((e=>e.label.toLocaleUpperCase().startsWith(o)||e.value.toLocaleUpperCase()===o));r&&n(r.value)}},options:c,value:a||"",allowReset:!1,autoComplete:m,"aria-invalid":(null==w?void 0:w.message)&&!(null!=w&&w.hidden)}),(0,r.createElement)(ht.ValidationInputError,{propertyName:b}))}));o(7775);const Yt=({className:e,countries:t,id:o,label:n,onChange:c,value:a="",autoComplete:i="off",required:l=!1,errorId:d,errorMessage:p=(0,u.__)("Please select a country","woo-gutenberg-products-block")})=>{const m=(0,r.useMemo)((()=>Object.entries(t).map((([e,t])=>({value:e,label:(0,de.decodeEntities)(t)})))),[t]);return(0,r.createElement)("div",{className:s()(e,"wc-block-components-country-input")},(0,r.createElement)(Vt,{id:o,label:n,onChange:c,options:m,value:a,errorId:d,errorMessage:p,required:l,autoComplete:i}))},$t=e=>(0,r.createElement)(Yt,{countries:O,...e}),jt=e=>(0,r.createElement)(Yt,{countries:D,...e});o(8410);const Kt=(e,t)=>{const o=t.find((t=>t.label.toLocaleUpperCase()===e.toLocaleUpperCase()||t.value.toLocaleUpperCase()===e.toLocaleUpperCase()));return o?o.value:""},qt=({className:e,id:t,states:o,country:n,label:c,onChange:a,autoComplete:i="off",value:l="",required:d=!1,errorId:p=""})=>{const m=o[n],g=(0,r.useMemo)((()=>m?Object.keys(m).map((e=>({value:e,label:(0,de.decodeEntities)(m[e])}))):[]),[m]),h=(0,r.useCallback)((e=>{const t=g.length>0?Kt(e,g):e;t!==l&&a(t)}),[a,g,l]),_=(0,r.useRef)(l);return(0,r.useEffect)((()=>{_.current!==l&&(_.current=l)}),[l]),(0,r.useEffect)((()=>{if(g.length>0&&_.current){const e=Kt(_.current,g);e!==_.current&&h(e)}}),[g,h]),g.length>0?(0,r.createElement)(Vt,{className:s()(e,"wc-block-components-state-input"),id:t,label:c,onChange:h,options:g,value:l,errorMessage:(0,u.__)("Please select a state.","woo-gutenberg-products-block"),errorId:p,required:d,autoComplete:i}):(0,r.createElement)(ht.ValidatedTextInput,{className:e,id:t,label:c,onChange:h,autoComplete:i,value:l,required:d})},Ht=e=>(0,r.createElement)(qt,{states:B,...e}),zt=e=>(0,r.createElement)(qt,{states:L,...e});function Zt(e){const t=(0,r.useRef)(e);return Ue()(e,t.current)||(t.current=e),t.current}const Wt=Object.keys(y.defaultAddressFields),Gt=(0,p.withInstanceId)((({id:e="",fields:t=Wt,fieldConfig:o={},instanceId:n,onChange:s,type:c="shipping",values:a})=>{const i=Zt(t),l=Zt(o),d=Zt(a.country),p=(0,r.useMemo)((()=>{const e=he(i,l,d);return{fields:e,type:c,required:e.filter((e=>e.required)),hidden:e.filter((e=>e.hidden))}}),[i,l,d,c]),m=(0,r.useRef)({});return(0,r.useEffect)((()=>{const e={...a,...Object.fromEntries(p.hidden.map((e=>[e.key,""])))};Ue()(a,e)||s(e)}),[s,p,a]),(0,r.useEffect)((()=>{"shipping"===c&&(e=>{const t="shipping_country",o=(0,_.select)($.VALIDATION_STORE_KEY).getValidationError(t);!e.country&&(e.city||e.state||e.postcode)&&(o?(0,_.dispatch)($.VALIDATION_STORE_KEY).showValidationError(t):(0,_.dispatch)($.VALIDATION_STORE_KEY).setValidationErrors({[t]:{message:(0,u.__)("Please select your country","woo-gutenberg-products-block"),hidden:!1}})),o&&e.country&&(0,_.dispatch)($.VALIDATION_STORE_KEY).clearValidationError(t)})(a)}),[a,c]),(0,r.useEffect)((()=>{var e,t;null===(e=m.current)||void 0===e||null===(t=e.postcode)||void 0===t||t.revalidate()}),[d]),e=e||n,(0,r.createElement)("div",{id:e,className:"wc-block-components-address-form"},p.fields.map((t=>{if(t.hidden)return null;const o={id:`${e}-${t.key}`,errorId:`${c}_${t.key}`,label:t.required?t.label:t.optionalLabel,autoCapitalize:t.autocapitalize,autoComplete:t.autocomplete,errorMessage:t.errorMessage,required:t.required,className:`wc-block-components-address-form__${t.key}`};if("country"===t.key){const e="shipping"===c?jt:$t;return(0,r.createElement)(e,{key:t.key,...o,value:a.country,onChange:e=>{const t={...a,country:e,state:""};a.postcode&&!(0,ht.isPostcode)({postcode:a.postcode,country:e})&&(t.postcode=""),s(t)}})}if("state"===t.key){const e="shipping"===c?zt:Ht;return(0,r.createElement)(e,{key:t.key,...o,country:a.country,value:a.state,onChange:e=>s({...a,state:e})})}return(0,r.createElement)(ht.ValidatedTextInput,{key:t.key,ref:e=>m.current[t.key]=e,...o,value:a[t.key],onChange:e=>s({...a,[t.key]:e}),customFormatter:e=>"postcode"===t.key?e.trimStart().toUpperCase():e,customValidation:e=>((e,t,o)=>!((e.required||e.value)&&"postcode"===t&&o.country&&!(0,ht.isPostcode)({postcode:e.value,country:o.country})&&(e.setCustomValidity((0,u.__)("Please enter a valid postcode","woo-gutenberg-products-block")),1)))(e,t.key,a)})})))}));o(1741);const Xt=({isEditing:e=!1,addressCard:t,addressForm:o})=>{const n=s()("wc-block-components-address-address-wrapper",{"is-editing":e});return(0,r.createElement)("div",{className:n},(0,r.createElement)("div",{className:"wc-block-components-address-card-wrapper"},t()),(0,r.createElement)("div",{className:"wc-block-components-address-form-wrapper"},o()))},Jt=({id:e="phone",errorId:t="phone",isRequired:o=!1,value:n="",onChange:s})=>(0,r.createElement)(ht.ValidatedTextInput,{id:e,errorId:t,type:"tel",autoComplete:"tel",required:o,label:o?(0,u.__)("Phone","woo-gutenberg-products-block"):(0,u.__)("Phone (optional)","woo-gutenberg-products-block"),value:n,onChange:s});o(4623);const Qt=({address:e,onEdit:t,target:o})=>(0,r.createElement)("div",{className:"wc-block-components-address-card"},(0,r.createElement)("address",null,(0,r.createElement)("span",{className:"wc-block-components-address-card__address-section"},e.first_name+" "+e.last_name),(0,r.createElement)("div",{className:"wc-block-components-address-card__address-section"},[e.address_1,e.address_2,e.city,e.state,e.postcode,O[e.country]?O[e.country]:e.country].filter((e=>!!e)).map(((e,t)=>(0,r.createElement)("span",{key:"address-"+t},e)))),e.phone?(0,r.createElement)("div",{key:"address-phone",className:"wc-block-components-address-card__address-section"},e.phone):""),t&&(0,r.createElement)("a",{role:"button",href:"#"+o,className:"wc-block-components-address-card__edit","aria-label":(0,u.__)("Edit address","woo-gutenberg-products-block"),onClick:e=>{t(),e.preventDefault()}},(0,u.__)("Edit","woo-gutenberg-products-block"))),eo=({addressFieldsConfig:e,showPhoneField:t,requirePhoneField:o})=>{const{defaultAddressFields:n,shippingAddress:s,setShippingAddress:c,setBillingAddress:a,setShippingPhone:i,useShippingAsBilling:l}=Tt(),{dispatchCheckoutEvent:u}=Ke(),d=!(!s.address_1||!s.first_name&&!s.last_name),[p,m]=(0,r.useState)(!d),{hasValidationErrors:g,invalidProps:h}=(0,_.useSelect)((e=>{const t=e($.VALIDATION_STORE_KEY);return{hasValidationErrors:t.hasValidationErrors(),invalidProps:Object.keys(s).filter((e=>void 0!==t.getValidationError("shipping_"+e))).filter(Boolean)}}));(0,r.useEffect)((()=>{h.length>0&&!1===p&&m(!0)}),[p,g,h.length]);const b=Object.keys(n),k=(0,r.useCallback)((e=>{if(c(e),l){const{...o}=e;t||delete o.phone,a(o),u("set-billing-address")}u("set-shipping-address")}),[u,a,c,l,t]),E=(0,r.useCallback)((()=>(0,r.createElement)(Qt,{address:s,target:"shipping",onEdit:()=>{m(!0)}})),[s]),w=(0,r.useCallback)((()=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Gt,{id:"shipping",type:"shipping",onChange:k,values:s,fields:b,fieldConfig:e}),t&&(0,r.createElement)(Jt,{id:"shipping-phone",errorId:"shipping_phone",isRequired:o,value:s.phone,onChange:e=>{i(e),u("set-phone-number",{step:"shipping"})}}))),[b,e,u,k,o,i,s,t]);return(0,r.createElement)(Xt,{isEditing:p,addressCard:E,addressForm:w})},to=({showCompanyField:e=!1,showApartmentField:t=!1,showPhoneField:o=!1,requireCompanyField:n=!1,requirePhoneField:s=!1})=>{const{setBillingAddress:c,shippingAddress:a,useShippingAsBilling:i,setUseShippingAsBilling:l}=Tt(),{isEditor:d}=k(),p=()=>{const t={...a};o||delete t.phone,e&&delete t.company,c(t)};(0,Ot.qR)((()=>{i&&p()}));const m=(0,r.useMemo)((()=>({company:{hidden:!e,required:n},address_2:{hidden:!t}})),[e,n,t]),g=d?Ft:r.Fragment,h=i?[ae.SHIPPING_ADDRESS,ae.BILLING_ADDRESS]:[ae.SHIPPING_ADDRESS],_=!(!a.address_1||!a.first_name&&!a.last_name);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(ht.StoreNoticesContainer,{context:h}),(0,r.createElement)(g,null,(0,r.createElement)(eo,{addressFieldsConfig:m,showPhoneField:o,requirePhoneField:s})),_&&(0,r.createElement)(ht.CheckboxControl,{className:"wc-block-checkout__use-address-for-billing",label:(0,u.__)("Use same address for billing","woo-gutenberg-products-block"),checked:i,onChange:e=>{l(e),e&&p()}}))},oo=({defaultTitle:e=(0,u.__)("Step","woo-gutenberg-products-block"),defaultDescription:t=(0,u.__)("Step description text.","woo-gutenberg-products-block"),defaultShowStepNumber:o=!0})=>({title:{type:"string",default:e},description:{type:"string",default:t},showStepNumber:{type:"boolean",default:o}}),ro={...oo({defaultTitle:(0,u.__)("Shipping address","woo-gutenberg-products-block"),defaultDescription:(0,u.__)("Enter the address where you want your order delivered.","woo-gutenberg-products-block")}),className:{type:"string",default:""},lock:{type:"object",default:{move:!0,remove:!0}}};(0,l.registerBlockType)("woocommerce/checkout-shipping-address-block",{icon:{src:(0,r.createElement)(i.Z,{icon:Pt.Z,className:"wc-block-editor-components-block-icon"})},attributes:ro,edit:({attributes:e,setAttributes:t})=>{const{showCompanyField:o,showApartmentField:n,requireCompanyField:c,showPhoneField:a,requirePhoneField:i}=wt(),{addressFieldControls:l}=yt(),{showShippingFields:u}=Tt();return u?(0,r.createElement)(At,{setAttributes:t,attributes:e,className:s()("wc-block-checkout__shipping-fields",null==e?void 0:e.className)},(0,r.createElement)(l,null),(0,r.createElement)(to,{showCompanyField:o,showApartmentField:n,requireCompanyField:c,showPhoneField:a,requirePhoneField:i}),(0,r.createElement)(It,{block:ht.innerBlockAreas.SHIPPING_ADDRESS})):null},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()},(0,r.createElement)(Mt,null))});var no=o(7157);o(264);const so=T?`<a href="${T}" target="_blank">${(0,u.__)("Terms and Conditions","woo-gutenberg-products-block")}</a>`:(0,u.__)("Terms and Conditions","woo-gutenberg-products-block"),co=N?`<a href="${N}" target="_blank">${(0,u.__)("Privacy Policy","woo-gutenberg-products-block")}</a>`:(0,u.__)("Privacy Policy","woo-gutenberg-products-block"),ao=(0,u.sprintf)(/* translators: %1$s terms page link, %2$s privacy page link. */
(0,u.__)("By proceeding with your purchase you agree to our %1$s and %2$s","woo-gutenberg-products-block"),so,co),io=(0,u.sprintf)(/* translators: %1$s terms page link, %2$s privacy page link. */
(0,u.__)("You must accept our %1$s and %2$s to continue with your purchase.","woo-gutenberg-products-block"),so,co);o(3926),(0,l.registerBlockType)("woocommerce/checkout-terms-block",{icon:{src:(0,r.createElement)(i.Z,{icon:no.Z,className:"wc-block-editor-components-block-icon"})},edit:({attributes:{checkbox:e,text:t},setAttributes:o})=>{const n=(0,d.useBlockProps)(),s=t||(e?io:ao);return(0,r.createElement)("div",{...n},(0,r.createElement)(d.InspectorControls,null,(!T||!N)&&(0,r.createElement)(gt.Notice,{className:"wc-block-checkout__terms_notice",status:"warning",isDismissible:!1},(0,u.__)("Link to your store's Terms and Conditions and Privacy Policy pages by creating pages for them.","woo-gutenberg-products-block"),(0,r.createElement)("br",null),!T&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("br",null),(0,r.createElement)(gt.ExternalLink,{href:`${y.ADMIN_URL}admin.php?page=wc-settings&tab=advanced`},(0,u.__)("Setup a Terms and Conditions page","woo-gutenberg-products-block"))),!N&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("br",null),(0,r.createElement)(gt.ExternalLink,{href:`${y.ADMIN_URL}options-privacy.php`},(0,u.__)("Setup a Privacy Policy page","woo-gutenberg-products-block")))),T&&N&&!(s.includes(T)&&s.includes(N))&&(0,r.createElement)(gt.Notice,{className:"wc-block-checkout__terms_notice",status:"warning",isDismissible:!1,actions:ao!==t?[{label:(0,u.__)("Restore default text","woo-gutenberg-products-block"),onClick:()=>o({text:""})}]:[]},(0,r.createElement)("p",null,(0,u.__)("Ensure you add links to your policy pages in this section.","woo-gutenberg-products-block"))),(0,r.createElement)(gt.PanelBody,{title:(0,u.__)("Display options","woo-gutenberg-products-block")},(0,r.createElement)(gt.ToggleControl,{label:(0,u.__)("Require checkbox","woo-gutenberg-products-block"),checked:e,onChange:()=>o({checkbox:!e})}))),(0,r.createElement)("div",{className:"wc-block-checkout__terms"},e?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(ht.CheckboxControl,{id:"terms-condition",checked:!1}),(0,r.createElement)(d.RichText,{value:s,onChange:e=>o({text:e})})):(0,r.createElement)(d.RichText,{tagName:"span",value:s,onChange:e=>o({text:e})})))},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()})});var lo=o(1599);const uo=()=>{const{customerId:e,shouldCreateAccount:t}=(0,_.useSelect)((e=>{const t=e($.CHECKOUT_STORE_KEY);return{customerId:t.getCustomerId(),shouldCreateAccount:t.getShouldCreateAccount()}})),{__internalSetShouldCreateAccount:o}=(0,_.useDispatch)($.CHECKOUT_STORE_KEY),{billingAddress:n,setEmail:s}=Tt(),{dispatchCheckoutEvent:c}=Ke(),a=!e&&(0,y.getSetting)("checkoutAllowsGuest",!1)&&(0,y.getSetting)("checkoutAllowsSignup",!1)&&(0,r.createElement)(ht.CheckboxControl,{className:"wc-block-checkout__create-account",label:(0,u.__)("Create an account?","woo-gutenberg-products-block"),checked:t,onChange:e=>o(e)});return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(ht.StoreNoticesContainer,{context:ae.CONTACT_INFORMATION}),(0,r.createElement)(ht.ValidatedTextInput,{id:"email",type:"email",autoComplete:"email",errorId:"billing_email",label:(0,u.__)("Email address","woo-gutenberg-products-block"),value:n.email,required:!0,onChange:e=>{s(e),c("set-email-address")},customValidation:e=>!!(0,_e.isEmail)(e.value)||(e.setCustomValidity((0,u.__)("Please enter a valid email address","woo-gutenberg-products-block")),!1)}),a)},po={...oo({defaultTitle:(0,u.__)("Contact information","woo-gutenberg-products-block"),defaultDescription:(0,u.__)("We'll use this email to send you details and updates about your order.","woo-gutenberg-products-block")}),className:{type:"string",default:""},lock:{type:"object",default:{remove:!0,move:!0}}};(0,l.registerBlockType)("woocommerce/checkout-contact-information-block",{icon:{src:(0,r.createElement)(i.Z,{icon:lo.Z,className:"wc-block-editor-components-block-icon"})},attributes:po,edit:({attributes:e,setAttributes:t})=>(0,r.createElement)(At,{attributes:e,setAttributes:t,className:s()("wc-block-checkout__contact-fields",null==e?void 0:e.className)},(0,r.createElement)(d.InspectorControls,null,(0,r.createElement)(gt.PanelBody,{title:(0,u.__)("Account creation and guest checkout","woo-gutenberg-products-block")},(0,r.createElement)("p",{className:"wc-block-checkout__controls-text"},(0,u.__)("Account creation and guest checkout settings can be managed in the WooCommerce settings.","woo-gutenberg-products-block")),(0,r.createElement)(gt.ExternalLink,{href:`${y.ADMIN_URL}admin.php?page=wc-settings&tab=account`},(0,u.__)("Manage account settings","woo-gutenberg-products-block")))),(0,r.createElement)(Ft,null,(0,r.createElement)(uo,null)),(0,r.createElement)(It,{block:ht.innerBlockAreas.CONTACT_INFORMATION})),save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()},(0,r.createElement)(Mt,null))});const mo=({addressFieldsConfig:e,showPhoneField:t,requirePhoneField:o,forceEditing:n=!1})=>{const{defaultAddressFields:s,billingAddress:c,setShippingAddress:a,setBillingAddress:i,setBillingPhone:l,setShippingPhone:u,useBillingAsShipping:d}=Tt(),{dispatchCheckoutEvent:p}=Ke(),m=!(!c.address_1||!c.first_name&&!c.last_name),[g,h]=(0,r.useState)(!m||n),{hasValidationErrors:b,invalidProps:k}=(0,_.useSelect)((e=>{const t=e($.VALIDATION_STORE_KEY);return{hasValidationErrors:t.hasValidationErrors(),invalidProps:Object.keys(c).filter((e=>void 0!==t.getValidationError("billing_"+e))).filter(Boolean)}}));(0,r.useEffect)((()=>{k.length>0&&!1===g&&h(!0)}),[g,b,k.length]);const E=Object.keys(s),w=(0,r.useCallback)((e=>{i(e),d&&(a(e),p("set-shipping-address")),p("set-billing-address")}),[p,i,a,d]),y=(0,r.useCallback)((()=>(0,r.createElement)(Qt,{address:c,target:"billing",onEdit:()=>{h(!0)}})),[c]),v=(0,r.useCallback)((()=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Gt,{id:"billing",type:"billing",onChange:w,values:c,fields:E,fieldConfig:e}),t&&(0,r.createElement)(Jt,{id:"billing-phone",errorId:"billing_phone",isRequired:o,value:c.phone,onChange:e=>{l(e),p("set-phone-number",{step:"billing"}),d&&(u(e),p("set-phone-number",{step:"billing"}))}}))),[E,e,c,p,w,o,l,u,t,d]);return(0,r.createElement)(Xt,{isEditing:g,addressCard:y,addressForm:v})},go=({showCompanyField:e=!1,showApartmentField:t=!1,showPhoneField:o=!1,requireCompanyField:n=!1,requirePhoneField:s=!1,forceEditing:c=!1})=>{const{billingAddress:a,setShippingAddress:i,useBillingAsShipping:l}=Tt(),{isEditor:u}=k();(0,Ot.qR)((()=>{if(l){const{email:t,...r}=a,n={...r};o||delete n.phone,e&&delete n.company,i(n)}}));const d=(0,r.useMemo)((()=>({company:{hidden:!e,required:n},address_2:{hidden:!t}})),[e,n,t]),p=u?Ft:r.Fragment,m=l?[ae.BILLING_ADDRESS,ae.SHIPPING_ADDRESS]:[ae.BILLING_ADDRESS];return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(ht.StoreNoticesContainer,{context:m}),(0,r.createElement)(p,null,(0,r.createElement)(mo,{addressFieldsConfig:d,showPhoneField:o,requirePhoneField:s,forceEditing:c})))},ho=(0,u.__)("Billing address","woo-gutenberg-products-block"),_o=(0,u.__)("Enter the billing address that matches your payment method.","woo-gutenberg-products-block"),bo=(0,u.__)("Billing and shipping address","woo-gutenberg-products-block"),ko=(0,u.__)("Enter the billing and shipping address that matches your payment method.","woo-gutenberg-products-block"),Eo={...oo({defaultTitle:ho,defaultDescription:_o}),className:{type:"string",default:""},lock:{type:"object",default:{move:!0,remove:!0}}};(0,l.registerBlockType)("woocommerce/checkout-billing-address-block",{icon:{src:(0,r.createElement)(i.Z,{icon:Pt.Z,className:"wc-block-editor-components-block-icon"})},attributes:Eo,edit:({attributes:e,setAttributes:t})=>{const{showCompanyField:o,showApartmentField:n,requireCompanyField:c,showPhoneField:a,requirePhoneField:i}=wt(),{addressFieldControls:l}=yt(),{showBillingFields:u,forcedBillingAddress:d,useBillingAsShipping:p}=Tt();return u||p?(e.title=((e,t)=>t?e===ho?bo:e:e===bo?ho:e)(e.title,d),e.description=((e,t)=>t?e===_o?ko:e:e===ko?_o:e)(e.description,d),(0,r.createElement)(At,{setAttributes:t,attributes:e,className:s()("wc-block-checkout__billing-fields",null==e?void 0:e.className)},(0,r.createElement)(l,null),(0,r.createElement)(go,{showCompanyField:o,showApartmentField:n,requireCompanyField:c,showPhoneField:a,requirePhoneField:i}),(0,r.createElement)(It,{block:ht.innerBlockAreas.BILLING_ADDRESS}))):null},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()},(0,r.createElement)(Mt,null))});var wo=o(9845);const yo=(0,u.__)("Place Order","woo-gutenberg-products-block"),vo={cartPageId:{type:"number",default:0},showReturnToCart:{type:"boolean",default:!0},className:{type:"string",default:""},lock:{type:"object",default:{move:!0,remove:!0}},placeOrderButtonLabel:{type:"string",default:yo}},fo=(e,t)=>{if(!e.title.raw)return e.slug;const o=1===t.filter((t=>t.title.raw===e.title.raw)).length;return e.title.raw+(o?"":` - ${e.slug}`)},Co=({setPageId:e,pageId:t,labels:o})=>{const n=(0,_.useSelect)((e=>e("core").getEntityRecords("postType","page",{status:"publish",orderby:"title",order:"asc",per_page:100})),[])||null;return n?(0,r.createElement)(gt.PanelBody,{title:o.title},(0,r.createElement)(gt.SelectControl,{label:(0,u.__)("Link to","woo-gutenberg-products-block"),value:t,options:[{label:o.default,value:0},...n.map((e=>({label:fo(e,n),value:parseInt(e.id,10)})))],onChange:t=>e(parseInt(t,10))})):null};var So=o(2278);o(6701);const Po=({link:e})=>{const t=e||x;return t?(0,r.createElement)("a",{href:t,className:"wc-block-components-checkout-return-to-cart-button"},(0,r.createElement)(i.Z,{icon:So.Z}),(0,u.__)("Return to Cart","woo-gutenberg-products-block")):null};var No=o(9884);o(5589);const To=()=>(0,r.createElement)("span",{className:"wc-block-components-spinner","aria-hidden":"true"});o(5482);const Ro=({className:e,showSpinner:t=!1,children:o,variant:n="contained",...c})=>{const a=s()("wc-block-components-button","wp-element-button",e,n,{"wc-block-components-button--loading":t});return(0,r.createElement)(No.Z,{className:a,...c},t&&(0,r.createElement)(To,null),(0,r.createElement)("span",{className:"wc-block-components-button__text"},o))},xo=({onChange:e,placeholder:t,value:o,...n})=>(0,r.createElement)(Ro,{...n},(0,r.createElement)(d.RichText,{multiline:!1,allowedFormats:[],value:o,placeholder:t,onChange:e}));o(1337);const Ao={icon:{src:(0,r.createElement)(i.Z,{icon:wo.Z,className:"wc-block-editor-components-block-icon"})},attributes:vo,save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()}),edit:({attributes:e,setAttributes:t})=>{const o=(0,d.useBlockProps)(),{cartPageId:n=0,showReturnToCart:c=!0,placeOrderButtonLabel:a}=e,{current:i}=(0,r.useRef)(n),l=(0,_.useSelect)((e=>i||e("core/editor").getCurrentPostId()),[i]);return(0,r.createElement)("div",{...o},(0,r.createElement)(d.InspectorControls,null,(0,r.createElement)(gt.PanelBody,{title:(0,u.__)("Account options","woo-gutenberg-products-block")},(0,r.createElement)(gt.ToggleControl,{label:(0,u.__)('Show a "Return to Cart" link',"woo-gutenberg-products-block"),checked:c,onChange:()=>t({showReturnToCart:!c})})),c&&!(l===P&&0===i)&&(0,r.createElement)(Co,{pageId:n,setPageId:e=>t({cartPageId:e}),labels:{title:(0,u.__)("Return to Cart button","woo-gutenberg-products-block"),default:(0,u.__)("WooCommerce Cart Page","woo-gutenberg-products-block")}})),(0,r.createElement)("div",{className:"wc-block-checkout__actions"},(0,r.createElement)("div",{className:"wc-block-checkout__actions_row"},(0,r.createElement)(Ft,null,c&&(0,r.createElement)(Po,{link:(0,y.getSetting)("page-"+n,!1)})),(0,r.createElement)(xo,{className:s()("wc-block-cart__submit-button","wc-block-components-checkout-place-order-button",{"wc-block-components-checkout-place-order-button--full-width":!c}),value:a,placeholder:yo,onChange:e=>{t({placeOrderButtonLabel:e})}}))))}};(0,l.registerBlockType)("woocommerce/checkout-actions-block",Ao);var Io=o(897);o(7424);const Mo=({title:e,stepHeadingContent:t})=>(0,r.createElement)("div",{className:"wc-block-components-checkout-step__heading"},(0,r.createElement)(Rt,{"aria-hidden":"true",className:"wc-block-components-checkout-step__title",headingLevel:"2"},e),!!t&&(0,r.createElement)("span",{className:"wc-block-components-checkout-step__heading-content"},t)),Oo=({id:e,className:t,title:o,legend:n,description:c,children:a,disabled:i=!1,showStepNumber:l=!0,stepHeadingContent:u=(()=>{})})=>{const d=n||o?"fieldset":"div";return(0,r.createElement)(d,{className:s()(t,"wc-block-components-checkout-step",{"wc-block-components-checkout-step--with-step-number":l,"wc-block-components-checkout-step--disabled":i}),id:e,disabled:i},!(!n&&!o)&&(0,r.createElement)("legend",{className:"screen-reader-text"},n||o),!!o&&(0,r.createElement)(Mo,{title:o,stepHeadingContent:u()}),(0,r.createElement)("div",{className:"wc-block-components-checkout-step__container"},!!c&&(0,r.createElement)("p",{className:"wc-block-components-checkout-step__description"},c),(0,r.createElement)("div",{className:"wc-block-components-checkout-step__content"},a)))};o(237);const Bo=({className:e="",disabled:t=!1,onTextChange:o,placeholder:n,value:c=""})=>(0,r.createElement)("textarea",{className:s()("wc-block-components-textarea",e),disabled:t,onChange:e=>{o(e.target.value)},placeholder:n,rows:2,value:c}),Do=({disabled:e,onChange:t,placeholder:o,value:n})=>{const[s,c]=(0,r.useState)(!1),[a,i]=(0,r.useState)("");return(0,r.createElement)("div",{className:"wc-block-checkout__add-note"},(0,r.createElement)(ht.CheckboxControl,{disabled:e,label:(0,u.__)("Add a note to your order","woo-gutenberg-products-block"),checked:s,onChange:e=>{c(e),e?n!==a&&t(a):(t(""),i(n))}}),s&&(0,r.createElement)(Bo,{disabled:e,onTextChange:t,placeholder:o,value:n}))},Lo=({className:e})=>{const{needsShipping:t}=qe(),{isProcessing:o,orderNotes:n}=(0,_.useSelect)((e=>{const t=e($.CHECKOUT_STORE_KEY);return{isProcessing:t.isProcessing(),orderNotes:t.getOrderNotes()}})),{__internalSetOrderNotes:c}=(0,_.useDispatch)($.CHECKOUT_STORE_KEY);return(0,r.createElement)(Oo,{id:"order-notes",showStepNumber:!1,className:s()("wc-block-checkout__order-notes",e),disabled:o},(0,r.createElement)(Do,{disabled:o,onChange:c,placeholder:t?(0,u.__)("Notes about your order, e.g. special notes for delivery.","woo-gutenberg-products-block"):(0,u.__)("Notes about your order.","woo-gutenberg-products-block"),value:n}))};o(3225),o(838),(0,l.registerBlockType)("woocommerce/checkout-order-note-block",{icon:{src:(0,r.createElement)(i.Z,{icon:Io.Z,className:"wc-block-editor-components-block-icon"})},edit:()=>{const e=(0,d.useBlockProps)();return(0,r.createElement)("div",{...e},(0,r.createElement)(Ft,null,(0,r.createElement)(Lo,null)))},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()})});const Fo=(0,r.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/SVG",viewBox:"0 0 24 24",fill:"none"},(0,r.createElement)("path",{stroke:"currentColor",strokeWidth:"1.5",fill:"none",d:"M6 3.75h12c.69 0 1.25.56 1.25 1.25v14c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25V5c0-.69.56-1.25 1.25-1.25z"}),(0,r.createElement)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.9 7.5A1.1 1.1 0 018 6.4h8a1.1 1.1 0 011.1 1.1v2a1.1 1.1 0 01-1.1 1.1H8a1.1 1.1 0 01-1.1-1.1v-2zm1.2.1v1.8h7.8V7.6H8.1z",clipRule:"evenodd"}),(0,r.createElement)("path",{fill:"currentColor",d:"M8.5 12h1v1h-1v-1zM8.5 14h1v1h-1v-1zM8.5 16h1v1h-1v-1zM11.5 12h1v1h-1v-1zM11.5 14h1v1h-1v-1zM11.5 16h1v1h-1v-1zM14.5 12h1v1h-1v-1zM14.5 14h1v1h-1v-1zM14.5 16h1v1h-1v-1z"}));o(6575);const Uo=({children:e,className:t,screenReaderLabel:o,showSpinner:n=!1,isLoading:c=!0})=>(0,r.createElement)("div",{className:s()(t,{"wc-block-components-loading-mask":c})},c&&n&&(0,r.createElement)(To,null),(0,r.createElement)("div",{className:s()({"wc-block-components-loading-mask__children":c}),"aria-hidden":c},e),c&&(0,r.createElement)("span",{className:"screen-reader-text"},o||(0,u.__)("Loadingâ¦","woo-gutenberg-products-block")));o(5454);const Vo=(0,p.withInstanceId)((({instanceId:e,isLoading:t=!1,onSubmit:o,displayCouponForm:n=!1})=>{const[c,a]=(0,r.useState)(""),[i,l]=(0,r.useState)(!n),d=`wc-block-components-totals-coupon__input-${e}`,p=s()("wc-block-components-totals-coupon__content",{"screen-reader-text":i}),{validationErrorId:m}=(0,_.useSelect)((e=>({validationErrorId:e($.VALIDATION_STORE_KEY).getValidationErrorId(d)})));return(0,r.createElement)("div",{className:"wc-block-components-totals-coupon"},i?(0,r.createElement)("a",{role:"button",href:"#wc-block-components-totals-coupon__form",className:"wc-block-components-totals-coupon-link","aria-label":(0,u.__)("Add a coupon","woo-gutenberg-products-block"),onClick:e=>{e.preventDefault(),l(!1)}},(0,u.__)("Add a coupon","woo-gutenberg-products-block")):(0,r.createElement)(Uo,{screenReaderLabel:(0,u.__)("Applying couponâ¦","woo-gutenberg-products-block"),isLoading:t,showSpinner:!1},(0,r.createElement)("div",{className:p},(0,r.createElement)("form",{className:"wc-block-components-totals-coupon__form",id:"wc-block-components-totals-coupon__form"},(0,r.createElement)(ht.ValidatedTextInput,{id:d,errorId:"coupon",className:"wc-block-components-totals-coupon__input",label:(0,u.__)("Enter code","woo-gutenberg-products-block"),value:c,ariaDescribedBy:m,onChange:e=>{a(e)},focusOnMount:!0,validateOnMount:!1,showError:!1}),(0,r.createElement)(Ro,{className:"wc-block-components-totals-coupon__button",disabled:t||!c,showSpinner:t,onClick:e=>{e.preventDefault(),void 0!==o?o(c).then((e=>{e&&(a(""),l(!0))})):(a(""),l(!0))},type:"submit"},(0,u.__)("Apply","woo-gutenberg-products-block"))),(0,r.createElement)(ht.ValidationInputError,{propertyName:"coupon",elementId:d}))))}));o(6232);const Yo=({text:e,screenReaderText:t="",element:o="li",className:n="",radius:c="small",children:a=null,...i})=>{const l=o,u=s()(n,"wc-block-components-chip","wc-block-components-chip--radius-"+c),d=Boolean(t&&t!==e);return(0,r.createElement)(l,{className:u,...i},(0,r.createElement)("span",{"aria-hidden":d,className:"wc-block-components-chip__text"},e),d&&(0,r.createElement)("span",{className:"screen-reader-text"},t),a)};var $o=o(7231);const jo=({ariaLabel:e="",className:t="",disabled:o=!1,onRemove:n=(()=>{}),removeOnAnyClick:c=!1,text:a,screenReaderText:l="",...d})=>{const p=c?"span":"button";if(!e){const t=l&&"string"==typeof l?l:a;e="string"!=typeof t?/* translators: Remove chip. */
(0,u.__)("Remove","woo-gutenberg-products-block"):(0,u.sprintf)(/* translators: %s text of the chip to remove. */
(0,u.__)('Remove "%s"',"woo-gutenberg-products-block"),t)}const m={"aria-label":e,disabled:o,onClick:n,onKeyDown:e=>{"Backspace"!==e.key&&"Delete"!==e.key||n()}},g=c?m:{},h=c?{"aria-hidden":!0}:m;return(0,r.createElement)(Yo,{...d,...g,className:s()(t,"is-removable"),element:c?"button":d.element,screenReaderText:l,text:a},(0,r.createElement)(p,{className:"wc-block-components-chip__remove",...h},(0,r.createElement)(i.Z,{className:"wc-block-components-chip__remove-icon",icon:$o.Z,size:16})))};o(5154);const Ko={context:"summary"},qo=({cartCoupons:e=[],currency:t,isRemovingCoupon:o,removeCoupon:n,values:s})=>{const{total_discount:c,total_discount_tax:a}=s,i=parseInt(c,10);if(!i&&0===e.length)return null;const l=parseInt(a,10),d=(0,y.getSetting)("displayCartPricesIncludingTax",!1)?i+l:i,p=(0,ht.applyCheckoutFilter)({arg:Ko,filterName:"coupons",defaultValue:e});return(0,r.createElement)(ht.TotalsItem,{className:"wc-block-components-totals-discount",currency:t,description:0!==p.length&&(0,r.createElement)(Uo,{screenReaderLabel:(0,u.__)("Removing couponâ¦","woo-gutenberg-products-block"),isLoading:o,showSpinner:!1},(0,r.createElement)("ul",{className:"wc-block-components-totals-discount__coupon-list"},p.map((e=>(0,r.createElement)(jo,{key:"coupon-"+e.code,className:"wc-block-components-totals-discount__coupon-list-item",text:e.label,screenReaderText:(0,u.sprintf)(/* translators: %s Coupon code. */
(0,u.__)("Coupon: %s","woo-gutenberg-products-block"),e.label),disabled:o,onRemove:()=>{n(e.code)},radius:"large",ariaLabel:(0,u.sprintf)(/* translators: %s is a coupon code. */
(0,u.__)('Remove coupon "%s"',"woo-gutenberg-products-block"),e.label)}))))),label:d?(0,u.__)("Discount","woo-gutenberg-products-block"):(0,u.__)("Coupons","woo-gutenberg-products-block"),value:d?-1*d:"-"})};var Ho=o(7333);o(5476);const zo=e=>({thousandSeparator:null==e?void 0:e.thousandSeparator,decimalSeparator:null==e?void 0:e.decimalSeparator,fixedDecimalScale:!0,prefix:null==e?void 0:e.prefix,suffix:null==e?void 0:e.suffix,isNumericString:!0}),Zo=({className:e,value:t,currency:o,onValueChange:n,displayType:c="text",...a})=>{var i;const l="string"==typeof t?parseInt(t,10):t;if(!Number.isFinite(l))return null;const u=l/10**o.minorUnit;if(!Number.isFinite(u))return null;const d=s()("wc-block-formatted-money-amount","wc-block-components-formatted-money-amount",e),p=null!==(i=a.decimalScale)&&void 0!==i?i:null==o?void 0:o.minorUnit,m={...a,...zo(o),decimalScale:p,value:void 0,currency:void 0,onValueChange:void 0},g=n?e=>{const t=+e.value*10**o.minorUnit;n(t)}:()=>{};return(0,r.createElement)(Ho.Z,{className:d,displayType:c,...m,value:u,onValueChange:g})},Wo=window.wc.priceFormat;o(6305);const Go=({currency:e,values:t,className:o})=>{const n=(0,y.getSetting)("taxesEnabled",!0)&&(0,y.getSetting)("displayCartPricesIncludingTax",!1),{total_price:c,total_tax:a,tax_lines:i}=t,{receiveCart:l,...d}=Re(),p=(0,ht.applyCheckoutFilter)({filterName:"totalLabel",defaultValue:(0,u.__)("Total","woo-gutenberg-products-block"),extensions:d.extensions,arg:{cart:d}}),m=parseInt(a,10),g=i&&i.length>0?(0,u.sprintf)(/* translators: %s is a list of tax rates */
(0,u.__)("Including %s","woo-gutenberg-products-block"),i.map((({name:t,price:o})=>`${(0,Wo.formatPrice)(o,e)} ${t}`)).join(", ")):(0,u.__)("Including <TaxAmount/> in taxes","woo-gutenberg-products-block");return(0,r.createElement)(ht.TotalsItem,{className:s()("wc-block-components-totals-footer-item",o),currency:e,label:p,value:parseInt(c,10),description:n&&0!==m&&(0,r.createElement)("p",{className:"wc-block-components-totals-footer-item-tax"},(0,r.createInterpolateElement)(g,{TaxAmount:(0,r.createElement)(Zo,{className:"wc-block-components-totals-footer-item-tax-value",currency:e,value:m})}))})},Xo=({selectedShippingRates:e})=>(0,r.createElement)("div",{className:"wc-block-components-totals-item__description wc-block-components-totals-shipping__via"},(0,de.decodeEntities)(e.filter(((t,o)=>e.indexOf(t)===o)).join(", ")));o(7866);const Jo=({address:e,onUpdate:t,onCancel:o,addressFields:n})=>{const[s,c]=(0,r.useState)(e),{showAllValidationErrors:a}=(0,_.useDispatch)($.VALIDATION_STORE_KEY),{hasValidationErrors:i,isCustomerDataUpdating:l}=(0,_.useSelect)((e=>({hasValidationErrors:e($.VALIDATION_STORE_KEY).hasValidationErrors,isCustomerDataUpdating:e($.CART_STORE_KEY).isCustomerDataUpdating()})));return(0,r.createElement)("form",{className:"wc-block-components-shipping-calculator-address"},(0,r.createElement)(Gt,{fields:n,onChange:c,values:s}),(0,r.createElement)(Ro,{className:"wc-block-components-shipping-calculator-address__button",disabled:l,onClick:r=>(r.preventDefault(),Ue()(s,e)?o():(a(),i()?void 0:t(s))),type:"submit"},(0,u.__)("Update","woo-gutenberg-products-block")))},Qo=({onUpdate:e=(()=>{}),onCancel:t=(()=>{}),addressFields:o=["country","state","city","postcode"]})=>{const{shippingAddress:n}=Nt(),s="wc/cart/shipping-calculator";return(0,r.createElement)("div",{className:"wc-block-components-shipping-calculator"},(0,r.createElement)(ht.StoreNoticesContainer,{context:s}),(0,r.createElement)(Jo,{address:n,addressFields:o,onCancel:t,onUpdate:t=>{(0,_.dispatch)($.CART_STORE_KEY).updateCustomerData({shipping_address:t},!1).then((()=>{(e=>{const{removeNotice:t}=(0,_.dispatch)("core/notices"),{getNotices:o}=(0,_.select)("core/notices");o(e).forEach((o=>{t(o.id,e)}))})(s),e(t)})).catch((e=>{(0,$.processErrorResponse)(e,s)}))}}))},er=({label:e=(0,u.__)("Calculate","woo-gutenberg-products-block"),isShippingCalculatorOpen:t,setIsShippingCalculatorOpen:o})=>(0,r.createElement)("a",{role:"button",href:"#wc-block-components-shipping-calculator-address__link",className:"wc-block-components-totals-shipping__change-address__link",id:"wc-block-components-totals-shipping__change-address__link",onClick:e=>{e.preventDefault(),o(!t)},"aria-label":e,"aria-expanded":t},e),tr=({showCalculator:e,isShippingCalculatorOpen:t,setIsShippingCalculatorOpen:o,isCheckout:n=!1})=>e?(0,r.createElement)(er,{label:(0,u.__)("Add an address for shipping options","woo-gutenberg-products-block"),isShippingCalculatorOpen:t,setIsShippingCalculatorOpen:o}):(0,r.createElement)("em",null,n?(0,u.__)("No shipping options available","woo-gutenberg-products-block"):(0,u.__)("Calculated during checkout","woo-gutenberg-products-block")),or=()=>{const{pickupAddress:e}=(0,_.useSelect)((e=>{const t=e("wc/store/cart").getShippingRates().flatMap((e=>e.shipping_rates)).find((e=>e.selected&&Be(e)));if(Ae(t)&&Ie(t,"meta_data")){const e=t.meta_data.find((e=>"pickup_address"===e.key));if(Ae(e)&&Ie(e,"value")&&e.value)return{pickupAddress:e.value}}return Ae(t),{pickupAddress:void 0}}));return void 0===e?null:(0,r.createElement)("span",{className:"wc-block-components-shipping-address"},(0,u.sprintf)(/* translators: %s: shipping method name, e.g. "Amazon Locker" */
(0,u.__)("Collection from %s","woo-gutenberg-products-block"),e)+" ")},rr=({formattedLocation:e})=>e?(0,r.createElement)("span",{className:"wc-block-components-shipping-address"},(0,u.sprintf)(/* translators: %s location. */
(0,u.__)("Shipping to %s","woo-gutenberg-products-block"),e)+" "):null,nr=({showCalculator:e,isShippingCalculatorOpen:t,setIsShippingCalculatorOpen:o,shippingAddress:n})=>{const s=ke(n),{isEditor:c}=k(),a=(0,_.useSelect)((e=>e($.CHECKOUT_STORE_KEY).prefersCollection()));if(!s&&!c)return null;const i=(e=>{if(0===Object.values(e).length)return null;const t="string"==typeof D[e.country]?(0,de.decodeEntities)(D[e.country]):"",o="object"==typeof L[e.country]&&"string"==typeof L[e.country][e.state]?(0,de.decodeEntities)(L[e.country][e.state]):e.state,r=[];r.push(e.postcode.toUpperCase()),r.push(e.city),r.push(o),r.push(t);return r.filter(Boolean).join(", ")||null})(n);return(0,r.createElement)(r.Fragment,null,a?(0,r.createElement)(or,null):(0,r.createElement)(rr,{formattedLocation:i}),e&&(0,r.createElement)(er,{label:(0,u.__)("Change address","woo-gutenberg-products-block"),isShippingCalculatorOpen:t,setIsShippingCalculatorOpen:o}))};var sr=o(5202),cr=(o(1365),o(8184)),ar=o(5430),ir=o(5045);const lr=e=>{switch(e){case"success":case"warning":case"info":case"default":return"polite";default:return"assertive"}},ur=e=>{switch(e){case"success":return cr.Z;case"warning":case"info":case"error":return ar.Z;default:return ir.Z}};var dr=o(5158);const pr=({className:e,status:t="default",children:o,spokenMessage:n=o,onRemove:c=(()=>{}),isDismissible:a=!0,politeness:l=lr(t),summary:d})=>(((e,t)=>{const o="string"==typeof e?e:(0,r.renderToString)(e);(0,r.useEffect)((()=>{o&&(0,dr.speak)(o,t)}),[o,t])})(n,l),(0,r.createElement)("div",{className:s()(e,"wc-block-components-notice-banner","is-"+t,{"is-dismissible":a})},(0,r.createElement)(i.Z,{icon:ur(t)}),(0,r.createElement)("div",{className:"wc-block-components-notice-banner__content"},d&&(0,r.createElement)("p",{className:"wc-block-components-notice-banner__summary"},d),o),!!a&&(0,r.createElement)(Ro,{className:"wc-block-components-notice-banner__dismiss",icon:sr.Z,label:(0,u.__)("Dismiss this notice","woo-gutenberg-products-block"),onClick:e=>{"function"==typeof(null==e?void 0:e.preventDefault)&&e.preventDefault&&e.preventDefault(),c()},showTooltip:!1}))),mr=({label:e,screenReaderLabel:t,wrapperElement:o,wrapperProps:n={}})=>{let c;const a=null!=e,i=null!=t;return!a&&i?(c=o||"span",n={...n,className:s()(n.className,"screen-reader-text")},(0,r.createElement)(c,{...n},t)):(c=o||r.Fragment,a&&i&&e!==t?(0,r.createElement)(c,{...n},(0,r.createElement)("span",{"aria-hidden":"true"},e),(0,r.createElement)("span",{className:"screen-reader-text"},t)):(0,r.createElement)(c,{...n},e))};var gr=o(7856),hr=o.n(gr);const _r=["a","b","em","i","strong","p","br"],br=["target","href","rel","name","download"],kr=(e,t)=>{const o=(null==t?void 0:t.tags)||_r,r=(null==t?void 0:t.attr)||br;return hr().sanitize(e,{ALLOWED_TAGS:o,ALLOWED_ATTR:r})},Er=({label:e,secondaryLabel:t,description:o,secondaryDescription:n,id:s})=>(0,r.createElement)("div",{className:"wc-block-components-radio-control__option-layout"},(0,r.createElement)("div",{className:"wc-block-components-radio-control__label-group"},e&&(0,r.createElement)("span",{id:s&&`${s}__label`,className:"wc-block-components-radio-control__label"},e),t&&(0,r.createElement)("span",{id:s&&`${s}__secondary-label`,className:"wc-block-components-radio-control__secondary-label"},t)),(o||n)&&(0,r.createElement)("div",{className:"wc-block-components-radio-control__description-group"},o&&(0,r.createElement)("span",{id:s&&`${s}__description`,className:"wc-block-components-radio-control__description"},o),n&&(0,r.createElement)("span",{id:s&&`${s}__secondary-description`,className:"wc-block-components-radio-control__secondary-description"},n))),wr=({checked:e,name:t,onChange:o,option:n,disabled:c=!1})=>{const{value:a,label:i,description:l,secondaryLabel:u,secondaryDescription:d}=n;return(0,r.createElement)("label",{className:s()("wc-block-components-radio-control__option",{"wc-block-components-radio-control__option-checked":e}),htmlFor:`${t}-${a}`},(0,r.createElement)("input",{id:`${t}-${a}`,className:"wc-block-components-radio-control__input",type:"radio",name:t,value:a,onChange:e=>o(e.target.value),checked:e,"aria-describedby":s()({[`${t}-${a}__label`]:i,[`${t}-${a}__secondary-label`]:u,[`${t}-${a}__description`]:l,[`${t}-${a}__secondary-description`]:d}),disabled:c}),(0,r.createElement)(Er,{id:`${t}-${a}`,label:i,secondaryLabel:u,description:l,secondaryDescription:d}))};o(7546);const yr=({className:e="",id:t,selected:o="",onChange:n,options:c=[],disabled:a=!1})=>{const i=(0,p.useInstanceId)(yr),l=t||i;return c.length?(0,r.createElement)("div",{className:s()("wc-block-components-radio-control",e)},c.map((e=>(0,r.createElement)(wr,{key:`${l}-${e.value}`,name:`radio-control-${l}`,checked:e.value===o,option:e,onChange:t=>{n(t),"function"==typeof e.onChange&&e.onChange(t)},disabled:a})))):null},vr=yr,fr=e=>{const t=(0,y.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(e.price,10)+parseInt(e.taxes,10):parseInt(e.price,10);return{label:(0,de.decodeEntities)(e.name),value:e.rate_id,description:(0,r.createElement)(r.Fragment,null,Number.isFinite(t)&&(0,r.createElement)(Zo,{currency:(0,Wo.getCurrencyFromPriceResponse)(e),value:t}),Number.isFinite(t)&&e.delivery_time?" â ":null,(0,de.decodeEntities)(e.delivery_time))}},Cr=({className:e="",noResultsMessage:t,onSelectRate:o,rates:n,renderOption:s=fr,selectedRate:c,disabled:a=!1})=>{const i=(null==c?void 0:c.rate_id)||"",l=Je(i),[u,d]=(0,r.useState)((()=>{var e;return i||(null===(e=n[0])||void 0===e?void 0:e.rate_id)}));if((0,r.useEffect)((()=>{i&&i!==l&&i!==u&&d(i)}),[i,u,l]),(0,r.useEffect)((()=>{u&&o(u)}),[o,u]),0===n.length)return t;if(n.length>1)return(0,r.createElement)(vr,{className:e,onChange:e=>{d(e),o(e)},disabled:a,selected:u,options:n.map(s)});const{label:p,secondaryLabel:m,description:g,secondaryDescription:h}=s(n[0]);return(0,r.createElement)(Er,{label:p,secondaryLabel:m,description:g,secondaryDescription:h})};o(6125);const Sr=({packageId:e,className:t="",noResultsMessage:o,renderOption:n,packageData:c,collapsible:a,showItems:i})=>{const{selectShippingRate:l,isSelectingRate:d}=qe(),p=document.querySelectorAll(".wc-block-components-shipping-rates-control__package").length>1,m=null!=i?i:p,g=null!=a?a:p,h=(0,r.createElement)(r.Fragment,null,(g||m)&&(0,r.createElement)("div",{className:"wc-block-components-shipping-rates-control__package-title",dangerouslySetInnerHTML:{__html:kr(c.name)}}),m&&(0,r.createElement)("ul",{className:"wc-block-components-shipping-rates-control__package-items"},Object.values(c.items).map((e=>{const t=(0,de.decodeEntities)(e.name),o=e.quantity;return(0,r.createElement)("li",{key:e.key,className:"wc-block-components-shipping-rates-control__package-item"},(0,r.createElement)(mr,{label:o>1?`${t} Ã ${o}`:`${t}`,screenReaderLabel:(0,u.sprintf)(/* translators: %1$s name of the product (ie: Sunglasses), %2$d number of units in the current cart package */
(0,u._n)("%1$s (%2$d unit)","%1$s (%2$d units)",o,"woo-gutenberg-products-block"),t,o)}))})))),_=(0,r.useCallback)((t=>{l(t,e)}),[e,l]),b={className:t,noResultsMessage:o,rates:c.shipping_rates,onSelectRate:_,selectedRate:c.shipping_rates.find((e=>e.selected)),renderOption:n,disabled:d};return g?(0,r.createElement)(ht.Panel,{className:s()("wc-block-components-shipping-rates-control__package",t,{"wc-block-components-shipping-rates-control__package--disabled":d}),initialOpen:!1,title:h},(0,r.createElement)(Cr,{...b})):(0,r.createElement)("div",{className:s()("wc-block-components-shipping-rates-control__package",t,{"wc-block-components-shipping-rates-control__package--disabled":d})},h,(0,r.createElement)(Cr,{...b}))},Pr=({packages:e,showItems:t,collapsible:o,noResultsMessage:n,renderOption:s})=>e.length?(0,r.createElement)(r.Fragment,null,e.map((({package_id:e,...c})=>(0,r.createElement)(Sr,{key:e,packageId:e,packageData:c,collapsible:o,showItems:t,noResultsMessage:n,renderOption:s})))):null,Nr=({shippingRates:e,isLoadingRates:t,className:o,collapsible:n,showItems:s,noResultsMessage:c,renderOption:a,context:i})=>{(0,r.useEffect)((()=>{var o,r;t||(o=Me(e),r=(e=>e.reduce((function(e,t){return e+t.shipping_rates.length}),0))(e),1===o?(0,dr.speak)((0,u.sprintf)(/* translators: %d number of shipping options found. */
(0,u._n)("%d shipping option was found.","%d shipping options were found.",r,"woo-gutenberg-products-block"),r)):(0,dr.speak)((0,u.sprintf)(/* translators: %d number of shipping packages packages. */
(0,u._n)("Shipping option searched for %d package.","Shipping options searched for %d packages.",o,"woo-gutenberg-products-block"),o)+" "+(0,u.sprintf)(/* translators: %d number of shipping options available. */
(0,u._n)("%d shipping option was found","%d shipping options were found",r,"woo-gutenberg-products-block"),r)))}),[t,e]);const{extensions:l,receiveCart:d,...p}=Re(),m={className:o,collapsible:n,showItems:s,noResultsMessage:c,renderOption:a,extensions:l,cart:p,components:{ShippingRatesControlPackage:Sr},context:i},{isEditor:g}=k(),{hasSelectedLocalPickup:h,selectedRates:_}=qe(),b=Ae(_)?Object.values(_):[],E=b.every((e=>e===b[0]));return(0,r.createElement)(Uo,{isLoading:t,screenReaderLabel:(0,u.__)("Loading shipping ratesâ¦","woo-gutenberg-products-block"),showSpinner:!0},h&&"woocommerce/cart"===i&&e.length>1&&!E&&!g&&(0,r.createElement)(pr,{className:"wc-block-components-notice",isDismissible:!1,status:"warning"},(0,u.__)("Multiple shipments must have the same pickup location","woo-gutenberg-products-block")),(0,r.createElement)(ht.ExperimentalOrderShippingPackages.Slot,{...m}),(0,r.createElement)(ht.ExperimentalOrderShippingPackages,null,(0,r.createElement)(Pr,{packages:e,noResultsMessage:c,renderOption:a})))},Tr=({hasRates:e,shippingRates:t,isLoadingRates:o,isAddressComplete:n})=>{const s=e?(0,u.__)("Shipping options","woo-gutenberg-products-block"):(0,u.__)("Choose a shipping option","woo-gutenberg-products-block");return(0,r.createElement)("fieldset",{className:"wc-block-components-totals-shipping__fieldset"},(0,r.createElement)("legend",{className:"screen-reader-text"},s),(0,r.createElement)(Nr,{className:"wc-block-components-totals-shipping__options",noResultsMessage:(0,r.createElement)(r.Fragment,null,n&&(0,r.createElement)(pr,{isDismissible:!1,className:"wc-block-components-shipping-rates-control__no-results-notice",status:"warning"},(0,u.__)("There are no shipping options available. Please check your shipping address.","woo-gutenberg-products-block"))),shippingRates:t,isLoadingRates:o,context:"woocommerce/cart"}))};o(5092);const Rr=({currency:e,values:t,showCalculator:o=!0,showRateSelector:n=!0,isCheckout:c=!1,className:a})=>{const[i,l]=(0,r.useState)(!1),{shippingAddress:d,cartHasCalculatedShipping:p,shippingRates:m,isLoadingRates:g}=Re(),h=(e=>(0,y.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(e.total_shipping,10)+parseInt(e.total_shipping_tax,10):parseInt(e.total_shipping,10))(t),b=m.some((e=>e.shipping_rates.length))||h>0,k=o&&i,E=(0,_.useSelect)((e=>e($.CHECKOUT_STORE_KEY).prefersCollection())),w=m.flatMap((e=>e.shipping_rates.filter((e=>E&&Be(e)&&e.selected||!E&&e.selected)).flatMap((e=>e.name)))),v=ke(d),f=((e,t,o)=>!e||!t&&o.some((e=>!e.shipping_rates.some((e=>!De(e.method_id))))))(b,E,m);return(0,r.createElement)("div",{className:s()("wc-block-components-totals-shipping",a)},(0,r.createElement)(ht.TotalsItem,{label:(0,u.__)("Shipping","woo-gutenberg-products-block"),value:!f&&p?h:(!v||c)&&(0,r.createElement)(tr,{showCalculator:o,isCheckout:c,isShippingCalculatorOpen:i,setIsShippingCalculatorOpen:l}),description:!f&&p||v&&!c?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Xo,{selectedShippingRates:w}),(0,r.createElement)(nr,{shippingAddress:d,showCalculator:o,isShippingCalculatorOpen:i,setIsShippingCalculatorOpen:l})):null,currency:e}),k&&(0,r.createElement)(Qo,{onUpdate:()=>{l(!1)},onCancel:()=>{l(!1)}}),n&&p&&!k&&(0,r.createElement)(Tr,{hasRates:b,shippingRates:m,isLoadingRates:g,isAddressComplete:v}))},xr=()=>{const{extensions:e,receiveCart:t,...o}=Re(),n={extensions:e,cart:o,context:"woocommerce/checkout"};return(0,r.createElement)(ht.ExperimentalOrderMeta.Slot,{...n})};(0,l.registerBlockType)("woocommerce/checkout-order-summary-block",{icon:{src:(0,r.createElement)(i.Z,{icon:Fo,className:"wc-block-editor-components-block-icon"})},attributes:{className:{type:"string",default:""},lock:{type:"object",default:{move:!0,remove:!0}}},edit:({clientId:e})=>{const t=(0,d.useBlockProps)(),{cartTotals:o}=Re(),n=(0,Wo.getCurrencyFromPriceResponse)(o),s=ft(ht.innerBlockAreas.CHECKOUT_ORDER_SUMMARY),c=[["woocommerce/checkout-order-summary-cart-items-block",{},[]],["woocommerce/checkout-order-summary-coupon-form-block",{},[]],["woocommerce/checkout-order-summary-subtotal-block",{},[]],["woocommerce/checkout-order-summary-fee-block",{},[]],["woocommerce/checkout-order-summary-discount-block",{},[]],["woocommerce/checkout-order-summary-shipping-block",{},[]],["woocommerce/checkout-order-summary-taxes-block",{},[]]];return Ct({clientId:e,registeredBlocks:s,defaultTemplate:c}),(0,r.createElement)("div",{...t},(0,r.createElement)(d.InnerBlocks,{allowedBlocks:s,template:c}),(0,r.createElement)("div",{className:"wc-block-components-totals-wrapper"},(0,r.createElement)(Go,{currency:n,values:o})),(0,r.createElement)(xr,null))},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()},(0,r.createElement)(d.InnerBlocks.Content,null))});var Ar=o(8214),Ir=o(6755);const Mr={warning:"#F0B849",error:"#CC1818",success:"#46B450",info:"#0073AA"},Or=({status:e="warning",...t})=>(0,r.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",...t},(0,r.createElement)("path",{d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20Z",stroke:Mr[e],strokeWidth:"1.5"}),(0,r.createElement)("path",{d:"M13 7H11V13H13V7Z",fill:Mr[e]}),(0,r.createElement)("path",{d:"M13 15H11V17H13V15Z",fill:Mr[e]}));o(4823);const Br=({href:e,title:t,description:o,warning:n})=>(0,r.createElement)("a",{href:e,className:"wc-block-editor-components-external-link-card",target:"_blank",rel:"noreferrer"},(0,r.createElement)("span",{className:"wc-block-editor-components-external-link-card__content"},(0,r.createElement)("strong",{className:"wc-block-editor-components-external-link-card__title"},t),o&&(0,r.createElement)("span",{className:"wc-block-editor-components-external-link-card__description",dangerouslySetInnerHTML:{__html:kr(o)}}),n?(0,r.createElement)("span",{className:"wc-block-editor-components-external-link-card__warning"},(0,r.createElement)(i.Z,{icon:(0,r.createElement)(Or,{status:"error"})}),(0,r.createElement)("span",null,n)):null),(0,r.createElement)(gt.VisuallyHidden,{as:"span"},/* translators: accessibility text */
(0,u.__)("(opens in a new tab)","woo-gutenberg-products-block")),(0,r.createElement)(i.Z,{icon:Ir.Z,className:"wc-block-editor-components-external-link-card__icon"})),Dr=window.wp.autop,Lr=e=>e.replace(/<\/?[a-z][^>]*?>/gi,""),Fr=(e,t)=>e.replace(/[\s|\.\,]+$/i,"")+t,Ur=(e,t,o="&hellip;",r=!0)=>{const n=Lr(e),s=n.split(" ").splice(0,t).join(" ");return s===n?r?(0,Dr.autop)(n):n:r?(0,Dr.autop)(Fr(s,o)):Fr(s,o)},Vr=(e,t,o=!0,r="&hellip;",n=!0)=>{const s=Lr(e),c=s.slice(0,t);if(c===s)return n?(0,Dr.autop)(s):s;if(o)return(0,Dr.autop)(Fr(c,r));const a=c.match(/([\s]+)/g),i=a?a.length:0,l=s.slice(0,t+i);return n?(0,Dr.autop)(Fr(l,r)):Fr(l,r)};o(7185);const Yr=()=>(0,r.createElement)(pr,{isDismissible:!1,className:"wc-block-checkout__no-payment-methods-notice",status:"error"},(0,u.__)("There are no payment methods available. This may be an error on our side. Please contact us if you need any help placing your order.","woo-gutenberg-products-block")),$r=(0,r.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)("g",{fill:"none",fillRule:"evenodd"},(0,r.createElement)("path",{d:"M0 0h24v24H0z"}),(0,r.createElement)("path",{fill:"#000",fillRule:"nonzero",d:"M17.3 8v1c1 .2 1.4.9 1.4 1.7h-1c0-.6-.3-1-1-1-.8 0-1.3.4-1.3.9 0 .4.3.6 1.4 1 1 .2 2 .6 2 1.9 0 .9-.6 1.4-1.5 1.5v1H16v-1c-.9-.1-1.6-.7-1.7-1.7h1c0 .6.4 1 1.3 1 1 0 1.2-.5 1.2-.8 0-.4-.2-.8-1.3-1.1-1.3-.3-2.1-.8-2.1-1.8 0-.9.7-1.5 1.6-1.6V8h1.3zM12 10v1H6v-1h6zm2-2v1H6V8h8zM2 4v16h20V4H2zm2 14V6h16v12H4z"}),(0,r.createElement)("path",{stroke:"#000",strokeLinecap:"round",d:"M6 16c2.6 0 3.9-3 1.7-3-2 0-1 3 1.5 3 1 0 1-.8 2.8-.8"})));var jr=o(9109),Kr=o(5032);o(4948);const qr={bank:jr.Z,bill:Kr.Z,card:Ar.Z,checkPayment:$r},Hr=({icon:e="",text:t=""})=>{const o=!!e,n=(0,r.useCallback)((e=>o&&pe(e)&&Ie(qr,e)),[o]),c=s()("wc-block-components-payment-method-label",{"wc-block-components-payment-method-label--with-icon":o});return(0,r.createElement)("span",{className:c},n(e)?(0,r.createElement)(i.Z,{icon:qr[e]}):e,t)},zr=e=>`wc-block-components-payment-method-icon wc-block-components-payment-method-icon--${e}`,Zr=({id:e,src:t=null,alt:o=""})=>t?(0,r.createElement)("img",{className:zr(e),src:t,alt:o}):null,Wr=[{id:"alipay",alt:"Alipay",src:S+"payment-methods/alipay.svg"},{id:"amex",alt:"American Express",src:S+"payment-methods/amex.svg"},{id:"bancontact",alt:"Bancontact",src:S+"payment-methods/bancontact.svg"},{id:"diners",alt:"Diners Club",src:S+"payment-methods/diners.svg"},{id:"discover",alt:"Discover",src:S+"payment-methods/discover.svg"},{id:"eps",alt:"EPS",src:S+"payment-methods/eps.svg"},{id:"giropay",alt:"Giropay",src:S+"payment-methods/giropay.svg"},{id:"ideal",alt:"iDeal",src:S+"payment-methods/ideal.svg"},{id:"jcb",alt:"JCB",src:S+"payment-methods/jcb.svg"},{id:"laser",alt:"Laser",src:S+"payment-methods/laser.svg"},{id:"maestro",alt:"Maestro",src:S+"payment-methods/maestro.svg"},{id:"mastercard",alt:"Mastercard",src:S+"payment-methods/mastercard.svg"},{id:"multibanco",alt:"Multibanco",src:S+"payment-methods/multibanco.svg"},{id:"p24",alt:"Przelewy24",src:S+"payment-methods/p24.svg"},{id:"sepa",alt:"Sepa",src:S+"payment-methods/sepa.svg"},{id:"sofort",alt:"Sofort",src:S+"payment-methods/sofort.svg"},{id:"unionpay",alt:"Union Pay",src:S+"payment-methods/unionpay.svg"},{id:"visa",alt:"Visa",src:S+"payment-methods/visa.svg"},{id:"wechat",alt:"WeChat",src:S+"payment-methods/wechat.svg"}];o(9086);const Gr=({icons:e=[],align:t="center",className:o})=>{const n=(e=>{const t={};return e.forEach((e=>{let o={};"string"==typeof e&&(o={id:e,alt:e,src:null}),"object"==typeof e&&(o={id:e.id||"",alt:e.alt||"",src:e.src||null}),o.id&&pe(o.id)&&!t[o.id]&&(t[o.id]=o)})),Object.values(t)})(e);if(0===n.length)return null;const c=s()("wc-block-components-payment-method-icons",{"wc-block-components-payment-method-icons--align-left":"left"===t,"wc-block-components-payment-method-icons--align-right":"right"===t},o);return(0,r.createElement)("div",{className:c},n.map((e=>{const t={...e,...(o=e.id,Wr.find((e=>e.id===o))||{})};var o;return(0,r.createElement)(Zr,{key:"payment-method-icon-"+e.id,...t})})))},Xr=(e="")=>{const{cartCoupons:t,cartIsLoading:o}=Re(),{createErrorNotice:r}=(0,_.useDispatch)("core/notices"),{createNotice:n}=(0,_.useDispatch)("core/notices"),{setValidationErrors:s}=(0,_.useDispatch)($.VALIDATION_STORE_KEY),{isApplyingCoupon:c,isRemovingCoupon:a}=(0,_.useSelect)((e=>{const t=e($.CART_STORE_KEY);return{isApplyingCoupon:t.isApplyingCoupon(),isRemovingCoupon:t.isRemovingCoupon()}}),[r,n]),{applyCoupon:i,removeCoupon:l}=(0,_.useDispatch)($.CART_STORE_KEY);return{appliedCoupons:t,isLoading:o,applyCoupon:t=>i(t).then((()=>((0,ht.applyCheckoutFilter)({filterName:"showApplyCouponNotice",defaultValue:!0,arg:{couponCode:t,context:e}})&&n("info",(0,u.sprintf)(/* translators: %s coupon code. */
(0,u.__)('Coupon code "%s" has been applied to your cart.',"woo-gutenberg-products-block"),t),{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!0)))).catch((e=>(s({coupon:{message:(0,de.decodeEntities)(e.message),hidden:!1}}),Promise.resolve(!1)))),removeCoupon:t=>l(t).then((()=>((0,ht.applyCheckoutFilter)({filterName:"showRemoveCouponNotice",defaultValue:!0,arg:{couponCode:t,context:e}})&&n("info",(0,u.sprintf)(/* translators: %s coupon code. */
(0,u.__)('Coupon code "%s" has been removed from your cart.',"woo-gutenberg-products-block"),t),{id:"coupon-form",type:"snackbar",context:e}),Promise.resolve(!0)))).catch((t=>(r(t.message,{id:"coupon-form",context:e}),Promise.resolve(!1)))),isApplyingCoupon:c,isRemovingCoupon:a}},Jr=(e,t)=>{const o=[],r=(t,o)=>{const r=o+"_tax",n=Ie(e,o)&&pe(e[o])?parseInt(e[o],10):0;return{key:o,label:t,value:n,valueWithTax:n+(Ie(e,r)&&pe(e[r])?parseInt(e[r],10):0)}};return o.push(r((0,u.__)("Subtotal:","woo-gutenberg-products-block"),"total_items")),o.push(r((0,u.__)("Fees:","woo-gutenberg-products-block"),"total_fees")),o.push(r((0,u.__)("Discount:","woo-gutenberg-products-block"),"total_discount")),o.push({key:"total_tax",label:(0,u.__)("Taxes:","woo-gutenberg-products-block"),value:parseInt(e.total_tax,10),valueWithTax:parseInt(e.total_tax,10)}),t&&o.push(r((0,u.__)("Shipping:","woo-gutenberg-products-block"),"total_shipping")),o},Qr=()=>{const{onCheckoutBeforeProcessing:e,onCheckoutValidationBeforeProcessing:t,onCheckoutAfterProcessingWithSuccess:o,onCheckoutAfterProcessingWithError:n,onSubmit:s,onCheckoutSuccess:c,onCheckoutFail:a,onCheckoutValidation:i}=nt(),{isCalculating:l,isComplete:d,isIdle:p,isProcessing:m,customerId:g}=(0,_.useSelect)((e=>{const t=e($.CHECKOUT_STORE_KEY);return{isComplete:t.isComplete(),isIdle:t.isIdle(),isProcessing:t.isProcessing(),customerId:t.getCustomerId(),isCalculating:t.isCalculating()}})),{paymentStatus:h,activePaymentMethod:b,shouldSavePayment:k}=(0,_.useSelect)((e=>{const t=e($.PAYMENT_STORE_KEY);return{paymentStatus:{get isPristine(){return K()("isPristine",{since:"9.6.0",alternative:"isIdle",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),t.isPaymentIdle()},isIdle:t.isPaymentIdle(),isStarted:t.isExpressPaymentStarted(),isProcessing:t.isPaymentProcessing(),get isFinished(){return K()("isFinished",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),t.hasPaymentError()||t.isPaymentReady()},hasError:t.hasPaymentError(),get hasFailed(){return K()("hasFailed",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),t.hasPaymentError()},get isSuccessful(){return K()("isSuccessful",{since:"9.6.0",plugin:"WooCommerce Blocks",link:"https://github.com/woocommerce/woocommerce-blocks/pull/8110"}),t.isPaymentReady()},isReady:t.isPaymentReady(),isDoingExpressPayment:t.isExpressPaymentMethodActive()},activePaymentMethod:t.getActivePaymentMethod(),shouldSavePayment:t.getShouldSavePaymentMethod()}})),{__internalSetExpressPaymentError:E}=(0,_.useDispatch)($.PAYMENT_STORE_KEY),{onPaymentProcessing:w,onPaymentSetup:v}=(0,r.useContext)(W),{shippingErrorStatus:f,shippingErrorTypes:C,onShippingRateSuccess:S,onShippingRateFail:P,onShippingRateSelectSuccess:N,onShippingRateSelectFail:T}=Ge(),{shippingRates:R,isLoadingRates:x,selectedRates:A,isSelectingRate:I,selectShippingRate:M,needsShipping:O}=qe(),{billingAddress:B,shippingAddress:D}=(0,_.useSelect)((e=>e($.CART_STORE_KEY).getCustomerData())),{setShippingAddress:L}=(0,_.useDispatch)($.CART_STORE_KEY),{cartItems:F,cartFees:U,cartTotals:V,extensions:Y}=Re(),{appliedCoupons:j}=Xr(),q=(0,r.useRef)(Jr(V,O)),H=(0,r.useRef)({label:(0,u.__)("Total","woo-gutenberg-products-block"),value:parseInt(V.total_price,10)});(0,r.useEffect)((()=>{q.current=Jr(V,O),H.current={label:(0,u.__)("Total","woo-gutenberg-products-block"),value:parseInt(V.total_price,10)}}),[V,O]);const z=(0,r.useCallback)(((e="")=>{K()("setExpressPaymentError should only be used by Express Payment Methods (using the provided onError handler).",{alternative:"",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/4228"}),E(e)}),[E]);return{activePaymentMethod:b,billing:{appliedCoupons:j,billingAddress:B,billingData:B,cartTotal:H.current,cartTotalItems:q.current,currency:(0,Wo.getCurrencyFromPriceResponse)(V),customerId:g,displayPricesIncludingTax:(0,y.getSetting)("displayCartPricesIncludingTax",!1)},cartData:{cartItems:F,cartFees:U,extensions:Y},checkoutStatus:{isCalculating:l,isComplete:d,isIdle:p,isProcessing:m},components:{LoadingMask:Uo,PaymentMethodIcons:Gr,PaymentMethodLabel:Hr,ValidationInputError:ht.ValidationInputError},emitResponse:{noticeContexts:ae,responseTypes:ce},eventRegistration:{onCheckoutAfterProcessingWithError:n,onCheckoutAfterProcessingWithSuccess:o,onCheckoutBeforeProcessing:e,onCheckoutValidationBeforeProcessing:t,onCheckoutSuccess:c,onCheckoutFail:a,onCheckoutValidation:i,onPaymentProcessing:w,onPaymentSetup:v,onShippingRateFail:P,onShippingRateSelectFail:T,onShippingRateSelectSuccess:N,onShippingRateSuccess:S},onSubmit:s,paymentStatus:h,setExpressPaymentError:z,shippingData:{isSelectingRate:I,needsShipping:O,selectedRates:A,setSelectedRates:M,setShippingAddress:L,shippingAddress:D,shippingRates:R,shippingRatesLoading:x},shippingStatus:{shippingErrorStatus:f,shippingErrorTypes:C},shouldSavePayment:k}},en=(0,p.withInstanceId)((({className:e,instanceId:t,id:o,selected:n,onChange:c,options:a=[]})=>{const i=o||t;return a.length?(0,r.createElement)("div",{className:s()("wc-block-components-radio-control",e)},a.map((e=>{const t="object"==typeof e&&"content"in e,o=e.value===n;return(0,r.createElement)("div",{className:"wc-block-components-radio-control-accordion-option",key:e.value},(0,r.createElement)(wr,{name:`radio-control-${i}`,checked:o,option:e,onChange:t=>{c(t),"function"==typeof e.onChange&&e.onChange(t)}}),t&&o&&(0,r.createElement)("div",{className:s()("wc-block-components-radio-control-accordion-content",{"wc-block-components-radio-control-accordion-content-hide":!o})},e.content))}))):null})),tn=({isEditor:e,children:t})=>{const[o]=(0,r.useState)(""),[n]=(0,r.useState)(!1);if(n){let t=(0,u.__)("We are experiencing difficulties with this payment method. Please contact us for assistance.","woo-gutenberg-products-block");(e||y.CURRENT_USER_IS_ADMIN)&&(t=o||(0,u.__)("There was an error with this payment method. Please verify it's configured correctly.","woo-gutenberg-products-block"));const n=[{id:"0",content:t,isDismissible:!1,status:"error"}];return(0,r.createElement)(ht.StoreNoticesContainer,{additionalNotices:n,context:ae.PAYMENTS})}return(0,r.createElement)(r.Fragment,null,t)},on=({children:e,showSaveOption:t})=>{const{isEditor:o}=k(),{shouldSavePaymentMethod:n,customerId:s}=(0,_.useSelect)((e=>{const t=e($.PAYMENT_STORE_KEY),o=e($.CHECKOUT_STORE_KEY);return{shouldSavePaymentMethod:t.getShouldSavePaymentMethod(),customerId:o.getCustomerId()}})),{__internalSetShouldSavePaymentMethod:c}=(0,_.useDispatch)($.PAYMENT_STORE_KEY);return(0,r.createElement)(tn,{isEditor:o},e,s>0&&t&&(0,r.createElement)(ht.CheckboxControl,{className:"wc-block-components-payment-methods__save-card-info",label:(0,u.__)("Save payment information to my account for future purchases.","woo-gutenberg-products-block"),checked:n,onChange:()=>c(!n)}))},rn="wc/store/payment",nn=()=>{const{activeSavedToken:e,activePaymentMethod:t,isExpressPaymentMethodActive:o,savedPaymentMethods:n,availablePaymentMethods:c}=(0,_.useSelect)((e=>{const t=e(rn);return{activeSavedToken:t.getActiveSavedToken(),activePaymentMethod:t.getActivePaymentMethod(),isExpressPaymentMethodActive:t.isExpressPaymentMethodActive(),savedPaymentMethods:t.getSavedPaymentMethods(),availablePaymentMethods:t.getAvailablePaymentMethods()}})),{__internalSetActivePaymentMethod:a}=(0,_.useDispatch)(rn),i=(0,it.getPaymentMethods)(),{...l}=Qr(),{removeNotice:u}=(0,_.useDispatch)("core/notices"),{dispatchCheckoutEvent:d}=Ke(),{isEditor:p}=k(),m=Object.keys(c).map((e=>{const{edit:t,content:o,label:n,supports:s}=i[e],c=p?t:o;return{value:e,label:"string"==typeof n?n:(0,r.cloneElement)(n,{components:l.components}),name:`wc-saved-payment-method-token-${e}`,content:(0,r.createElement)(on,{showSaveOption:s.showSaveOption},(0,r.cloneElement)(c,{__internalSetActivePaymentMethod:a,...l}))}})),g=(0,r.useCallback)((e=>{a(e),u("wc-payment-error",ae.PAYMENTS),d("set-active-payment-method",{value:e})}),[d,u,a]),h=0===Object.keys(n).length&&1===Object.keys(i).length,b=s()({"disable-radio-control":h});return o?null:(0,r.createElement)(en,{id:"wc-payment-method-options",className:b,selected:e?null:t,onChange:g,options:m})},sn="wc/store/cart",cn=((0,u.__)("Unable to get cart data from the API.","woo-gutenberg-products-block"),[]),an=[],ln={},un={cartItemsPendingQuantity:[],cartItemsPendingDelete:[],cartData:{coupons:[],shippingRates:[],shippingAddress:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},billingAddress:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:"",email:""},items:[],itemsCount:0,itemsWeight:0,crossSells:[],needsShipping:!0,needsPayment:!1,hasCalculatedShipping:!0,fees:[],totals:{currency_code:"",currency_symbol:"",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"",currency_suffix:"",total_items:"0",total_items_tax:"0",total_fees:"0",total_fees_tax:"0",total_discount:"0",total_discount_tax:"0",total_shipping:"0",total_shipping_tax:"0",total_price:"0",total_tax:"0",tax_lines:[]},errors:cn,paymentMethods:[],paymentRequirements:[],extensions:ln},metaData:{updatingCustomerData:!1,updatingSelectedRate:!1,applyingCoupon:"",removingCoupon:"",isCartDataStale:!1},errors:an},dn=({method:e,expires:t})=>(0,u.sprintf)(/* translators: %1$s is referring to the payment method brand, %2$s is referring to the last 4 digits of the payment card, %3$s is referring to the expiry date.  */
(0,u.__)("%1$s ending in %2$s (expires %3$s)","woo-gutenberg-products-block"),e.brand,e.last4,t),pn=({method:e})=>e.brand&&e.last4?(0,u.sprintf)(/* translators: %1$s is referring to the payment method brand, %2$s is referring to the last 4 digits of the payment card. */
(0,u.__)("%1$s ending in %2$s","woo-gutenberg-products-block"),e.brand,e.last4):(0,u.sprintf)(/* translators: %s is the name of the payment method gateway. */
(0,u.__)("Saved token for %s","woo-gutenberg-products-block"),e.gateway),mn=()=>{var e;const{activeSavedToken:t,activePaymentMethod:o,savedPaymentMethods:n}=(0,_.useSelect)((e=>{const t=e($.PAYMENT_STORE_KEY);return{activeSavedToken:t.getActiveSavedToken(),activePaymentMethod:t.getActivePaymentMethod(),savedPaymentMethods:t.getSavedPaymentMethods()}})),{__internalSetActivePaymentMethod:s}=(0,_.useDispatch)($.PAYMENT_STORE_KEY),c=(()=>{let e;if((0,_.select)("core/editor")){const t={cartCoupons:$e.coupons,cartItems:$e.items,crossSellsProducts:$e.cross_sells,cartFees:$e.fees,cartItemsCount:$e.items_count,cartItemsWeight:$e.items_weight,cartNeedsPayment:$e.needs_payment,cartNeedsShipping:$e.needs_shipping,cartItemErrors:cn,cartTotals:$e.totals,cartIsLoading:!1,cartErrors:an,billingData:un.cartData.billingAddress,billingAddress:un.cartData.billingAddress,shippingAddress:un.cartData.shippingAddress,extensions:ln,shippingRates:$e.shipping_rates,isLoadingRates:!1,cartHasCalculatedShipping:$e.has_calculated_shipping,paymentRequirements:$e.payment_requirements,receiveCart:()=>{}};e={cart:t,cartTotals:t.cartTotals,cartNeedsShipping:t.cartNeedsShipping,billingData:t.billingAddress,billingAddress:t.billingAddress,shippingAddress:t.shippingAddress,selectedShippingMethods:Le(t.shippingRates),paymentMethods:$e.payment_methods,paymentRequirements:t.paymentRequirements}}else{const t=(0,_.select)(sn),o=t.getCartData(),r=t.getCartErrors(),n=t.getCartTotals(),s=!t.hasFinishedResolution("getCartData"),c=t.isCustomerDataUpdating(),a=Le(o.shippingRates);e={cart:{cartCoupons:o.coupons,cartItems:o.items,crossSellsProducts:o.crossSells,cartFees:o.fees,cartItemsCount:o.itemsCount,cartItemsWeight:o.itemsWeight,cartNeedsPayment:o.needsPayment,cartNeedsShipping:o.needsShipping,cartItemErrors:o.errors,cartTotals:n,cartIsLoading:s,cartErrors:r,billingData:be(o.billingAddress),billingAddress:be(o.billingAddress),shippingAddress:be(o.shippingAddress),extensions:o.extensions,shippingRates:o.shippingRates,isLoadingRates:c,cartHasCalculatedShipping:o.hasCalculatedShipping,paymentRequirements:o.paymentRequirements,receiveCart:(0,_.dispatch)(sn).receiveCart},cartTotals:o.totals,cartNeedsShipping:o.needsShipping,billingData:o.billingAddress,billingAddress:o.billingAddress,shippingAddress:o.shippingAddress,selectedShippingMethods:a,paymentMethods:o.paymentMethods,paymentRequirements:o.paymentRequirements}}return e})(),a=(0,it.getPaymentMethods)(),i=Qr(),{removeNotice:l}=(0,_.useDispatch)("core/notices"),{dispatchCheckoutEvent:u}=Ke(),d=(0,r.useMemo)((()=>{const e=Object.keys(n),t=new Set(e.flatMap((e=>n[e].map((e=>e.method.gateway))))),o=Array.from(t).filter((e=>{var t;return null===(t=a[e])||void 0===t?void 0:t.canMakePayment(c)}));return e.flatMap((e=>n[e].map((t=>{if(!o.includes(t.method.gateway))return;const r="cc"===e||"echeck"===e,n=t.method.gateway;return{name:`wc-saved-payment-method-token-${n}`,label:r?dn(t):pn(t),value:t.tokenId.toString(),onChange:e=>{s(n,{token:e,payment_method:n,[`wc-${n}-payment-token`]:e.toString(),isSavedToken:!0}),l("wc-payment-error",ae.PAYMENTS),u("set-active-payment-method",{paymentMethodSlug:n})}}})))).filter((e=>void 0!==e))}),[n,a,s,l,u,c]),p=t&&a[o]&&void 0!==(null===(e=a[o])||void 0===e?void 0:e.savedTokenComponent)&&!xe(a[o].savedTokenComponent)?(0,r.cloneElement)(a[o].savedTokenComponent,{token:t,...i}):null;return d.length>0?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(vr,{id:"wc-payment-method-saved-tokens",selected:t,options:d,onChange:()=>{}}),p):null};o(5012);const gn=()=>{const{paymentMethodsInitialized:e,availablePaymentMethods:t,savedPaymentMethods:o}=(0,_.useSelect)((e=>{const t=e($.PAYMENT_STORE_KEY);return{paymentMethodsInitialized:t.paymentMethodsInitialized(),availablePaymentMethods:t.getAvailablePaymentMethods(),savedPaymentMethods:t.getSavedPaymentMethods()}}));return e&&0===Object.keys(t).length?(0,r.createElement)(Yr,null):(0,r.createElement)(r.Fragment,null,(0,r.createElement)(mn,null),Object.keys(o).length>0&&(0,r.createElement)(mr,{label:(0,u.__)("Use another payment method.","woo-gutenberg-products-block"),screenReaderLabel:(0,u.__)("Other available payment methods","woo-gutenberg-products-block"),wrapperElement:"p",wrapperProps:{className:["wc-block-components-checkout-step__description wc-block-components-checkout-step__description-payments-aligned"]}}),(0,r.createElement)(nn,null))},hn=()=>(0,r.createElement)(gn,null),bn={...oo({defaultTitle:(0,u.__)("Payment options","woo-gutenberg-products-block"),defaultDescription:""}),className:{type:"string",default:""},lock:{type:"object",default:{move:!0,remove:!0}}};(0,l.registerBlockType)("woocommerce/checkout-payment-block",{icon:{src:(0,r.createElement)(i.Z,{icon:Ar.Z,className:"wc-block-editor-components-block-icon"})},attributes:bn,edit:({attributes:e,setAttributes:t})=>{const o=(0,y.getSetting)("globalPaymentMethods"),{incompatiblePaymentMethods:n}=(0,_.useSelect)((e=>{const{getIncompatiblePaymentMethods:t}=e($.PAYMENT_STORE_KEY);return{incompatiblePaymentMethods:t()}}),[]),c=(0,u.__)("Incompatible with block-based checkout","woo-gutenberg-products-block"),a=C.wordCountType;return(0,r.createElement)(At,{attributes:e,setAttributes:t,className:s()("wc-block-checkout__payment-method",null==e?void 0:e.className)},(0,r.createElement)(d.InspectorControls,null,o.length>0&&(0,r.createElement)(gt.PanelBody,{title:(0,u.__)("Methods","woo-gutenberg-products-block")},(0,r.createElement)("p",{className:"wc-block-checkout__controls-text"},(0,u.__)("You currently have the following payment integrations active.","woo-gutenberg-products-block")),o.map((e=>{const t=!!n[e.id];let o;return o="words"===a?Ur(e.description,30,void 0,!1):Vr(e.description,30,"characters_including_spaces"===a,void 0,!1),(0,r.createElement)(Br,{key:e.id,href:`${y.ADMIN_URL}admin.php?page=wc-settings&tab=checkout&section=${e.id}`,title:e.title,description:o,...t?{warning:c}:{}})})),(0,r.createElement)(gt.ExternalLink,{href:`${y.ADMIN_URL}admin.php?page=wc-settings&tab=checkout`},(0,u.__)("Manage payment methods","woo-gutenberg-products-block")))),(0,r.createElement)(Ft,null,(0,r.createElement)(hn,null)),(0,r.createElement)(It,{block:ht.innerBlockAreas.PAYMENT_METHODS}))},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()},(0,r.createElement)(Mt,null))});const kn=(0,r.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},(0,r.createElement)("path",{stroke:"#1E1E1E",strokeLinejoin:"round",strokeWidth:"1.5",d:"M18.25 12a6.25 6.25 0 1 1-12.5 0 6.25 6.25 0 0 1 12.5 0Z"}),(0,r.createElement)("path",{fill:"#1E1E1E",d:"M10 3h4v3h-4z"}),(0,r.createElement)("rect",{width:"1.5",height:"5",x:"11.25",y:"8",fill:"#1E1E1E",rx:".75"}),(0,r.createElement)("path",{fill:"#1E1E1E",d:"m15.7 4.816 1.66 1.078-1.114 1.718-1.661-1.078z"})),En=()=>((e=!1)=>{const{paymentMethodsInitialized:t,expressPaymentMethodsInitialized:o,availablePaymentMethods:r,availableExpressPaymentMethods:n}=(0,_.useSelect)((e=>{const t=e($.PAYMENT_STORE_KEY);return{paymentMethodsInitialized:t.paymentMethodsInitialized(),expressPaymentMethodsInitialized:t.expressPaymentMethodsInitialized(),availableExpressPaymentMethods:t.getAvailableExpressPaymentMethods(),availablePaymentMethods:t.getAvailablePaymentMethods()}})),s=Object.values(r).map((({name:e})=>e)),c=Object.values(n).map((({name:e})=>e)),a=(0,it.getPaymentMethods)(),i=(0,it.getExpressPaymentMethods)(),l=Object.keys(a).reduce(((e,t)=>(s.includes(t)&&(e[t]=a[t]),e)),{}),u=Object.keys(i).reduce(((e,t)=>(c.includes(t)&&(e[t]=i[t]),e)),{}),d=Zt(l),p=Zt(u);return{paymentMethods:e?p:d,isInitialized:e?o:t}})(!0),wn=()=>{const{isEditor:e}=k(),{activePaymentMethod:t,paymentMethodData:o}=(0,_.useSelect)((e=>{const t=e(rn);return{activePaymentMethod:t.getActivePaymentMethod(),paymentMethodData:t.getPaymentMethodData()}})),{__internalSetActivePaymentMethod:n,__internalSetExpressPaymentStarted:s,__internalSetPaymentIdle:c,__internalSetPaymentError:a,__internalSetPaymentMethodData:i,__internalSetExpressPaymentError:l}=(0,_.useDispatch)(rn),{paymentMethods:d}=En(),p=Qr(),m=(0,r.useRef)(t),g=(0,r.useRef)(o),h=(0,r.useCallback)((e=>()=>{m.current=t,g.current=o,s(),n(e)}),[t,o,n,s]),b=(0,r.useCallback)((()=>{c(),n(m.current,g.current)}),[n,c]),E=(0,r.useCallback)((e=>{a(),i(e),l(e),n(m.current,g.current)}),[n,a,i,l]),w=(0,r.useCallback)(((e="")=>{K()("Express Payment Methods should use the provided onError handler instead.",{alternative:"onError",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/4228"}),e?E(e):l("")}),[l,E]),y=Object.entries(d),v=y.length>0?y.map((([t,o])=>{const n=e?o.edit:o.content;return(0,r.isValidElement)(n)?(0,r.createElement)("li",{key:t,id:`express-payment-method-${t}`},(0,r.cloneElement)(n,{...p,onClick:h(t),onClose:b,onError:E,setExpressPaymentError:w})):null})):(0,r.createElement)("li",{key:"noneRegistered"},(0,u.__)("No registered Payment Methods","woo-gutenberg-products-block"));return(0,r.createElement)(tn,{isEditor:e},(0,r.createElement)("ul",{className:"wc-block-components-express-payment__event-buttons"},v))};o(6620);const yn=()=>{const{isCalculating:e,isProcessing:t,isAfterProcessing:o,isBeforeProcessing:n,isComplete:s,hasError:c}=(0,_.useSelect)((e=>{const t=e($.CHECKOUT_STORE_KEY);return{isCalculating:t.isCalculating(),isProcessing:t.isProcessing(),isAfterProcessing:t.isAfterProcessing(),isBeforeProcessing:t.isBeforeProcessing(),isComplete:t.isComplete(),hasError:t.hasError()}})),{availableExpressPaymentMethods:a,expressPaymentMethodsInitialized:i,isExpressPaymentMethodActive:l}=(0,_.useSelect)((e=>{const t=e($.PAYMENT_STORE_KEY);return{availableExpressPaymentMethods:t.getAvailableExpressPaymentMethods(),expressPaymentMethodsInitialized:t.expressPaymentMethodsInitialized(),isExpressPaymentMethodActive:t.isExpressPaymentMethodActive()}})),{isEditor:d}=k();if(!i||i&&0===Object.keys(a).length)return d||y.CURRENT_USER_IS_ADMIN?(0,r.createElement)(ht.StoreNoticesContainer,{context:ae.EXPRESS_PAYMENTS}):null;const p=t||o||n||s&&!c;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Uo,{isLoading:e||p||l},(0,r.createElement)("div",{className:"wc-block-components-express-payment wc-block-components-express-payment--checkout"},(0,r.createElement)("div",{className:"wc-block-components-express-payment__title-container"},(0,r.createElement)(Rt,{className:"wc-block-components-express-payment__title",headingLevel:"2"},(0,u.__)("Express Checkout","woo-gutenberg-products-block"))),(0,r.createElement)("div",{className:"wc-block-components-express-payment__content"},(0,r.createElement)(ht.StoreNoticesContainer,{context:ae.EXPRESS_PAYMENTS}),(0,r.createElement)(wn,null)))),(0,r.createElement)("div",{className:"wc-block-components-express-payment-continue-rule wc-block-components-express-payment-continue-rule--checkout"},(0,u.__)("Or continue below","woo-gutenberg-products-block")))},vn=({className:e})=>{const{cartNeedsPayment:t}=Re();return t?(0,r.createElement)("div",{className:e},(0,r.createElement)(yn,null)):null};o(7196),(0,l.registerBlockType)("woocommerce/checkout-express-payment-block",{icon:{src:(0,r.createElement)(i.Z,{style:{fill:"none"},icon:kn,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{paymentMethods:t,isInitialized:o}=En(),n=Object.keys(t).length>0,c=(0,d.useBlockProps)({className:s()({"wp-block-woocommerce-checkout-express-payment-block--has-express-payment-methods":n},null==e?void 0:e.className),attributes:e});return o&&n?(0,r.createElement)("div",{...c},(0,r.createElement)(vn,null)):null},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()})});var fn=o(6520),Cn=o(3377);const Sn=((0,y.getSetting)("attributes",[]).reduce(((e,t)=>{const o=(r=t)&&r.attribute_name?{id:parseInt(r.attribute_id,10),name:r.attribute_name,taxonomy:"pa_"+r.attribute_name,label:r.attribute_label}:null;var r;return o&&o.id&&e.push(o),e}),[]),(e,t,o,r)=>{const n=(0,_.select)("core/block-editor"),s=(0,_.dispatch)("core/block-editor"),c=n.getBlockParents(e);let a="";c.forEach((e=>{const t=n.getBlock(e).innerBlocks.find((e=>e.name===r));t&&(a=t.clientId)})),s.updateBlockAttributes(a,{[t]:o})}),Pn=({minRate:e,maxRate:t,multiple:o=!1})=>{if(void 0===e||void 0===t)return null;const n=(0,y.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(e.price,10)+parseInt(e.taxes,10):parseInt(e.price,10),s=(0,y.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(t.price,10)+parseInt(t.taxes,10):parseInt(t.price,10),c=0===n?(0,r.createElement)("em",null,(0,u.__)("free","woo-gutenberg-products-block")):(0,r.createElement)(Zo,{currency:(0,Wo.getCurrencyFromPriceResponse)(e),value:n});return(0,r.createElement)("span",{className:"wc-block-checkout__shipping-method-option-price"},n!==s||o?(0,r.createInterpolateElement)(0===n&&0===s?"<price />":(0,u.__)("from <price />","woo-gutenberg-products-block"),{price:c}):c)};function Nn(e){return e?{min:e.reduce(((e,t)=>De(t.method_id)?e:void 0===e||parseInt(t.price,10)<parseInt(e.price,10)?t:e),void 0),max:e.reduce(((e,t)=>De(t.method_id)?e:void 0===e||parseInt(t.price,10)>parseInt(e.price,10)?t:e),void 0)}:{min:void 0,max:void 0}}function Tn(e){return e?{min:e.reduce(((e,t)=>De(t.method_id)&&(void 0===e||t.price<e.price)?t:e),void 0),max:e.reduce(((e,t)=>De(t.method_id)&&(void 0===e||t.price>e.price)?t:e),void 0)}:{min:void 0,max:void 0}}o(561);const Rn=(0,u.__)("Local Pickup","woo-gutenberg-products-block"),xn=(0,u.__)("Shipping","woo-gutenberg-products-block"),An=({checked:e,rate:t,showPrice:o,showIcon:n,toggleText:c,setAttributes:a})=>(0,r.createElement)(gt.__experimentalRadio,{value:"pickup",className:s()("wc-block-checkout__shipping-method-option",{"wc-block-checkout__shipping-method-option--selected":"pickup"===e})},!0===n&&(0,r.createElement)(i.Z,{icon:Cn.Z,size:28,className:"wc-block-checkout__shipping-method-option-icon"}),(0,r.createElement)(d.RichText,{value:c,placeholder:Rn,tagName:"span",className:"wc-block-checkout__shipping-method-option-title",onChange:e=>a({localPickupText:e}),__unstableDisableFormats:!0,preserveWhiteSpace:!0}),!0===o&&(0,r.createElement)(Pn,{minRate:t.min,maxRate:t.max})),In=({checked:e,rate:t,showPrice:o,showIcon:n,toggleText:c,setAttributes:a})=>{const l=void 0===t.min?(0,r.createElement)("span",{className:"wc-block-checkout__shipping-method-option-price"},(0,u.__)("calculated with an address","woo-gutenberg-products-block")):(0,r.createElement)(Pn,{minRate:t.min,maxRate:t.max});return(0,r.createElement)(gt.__experimentalRadio,{value:"shipping",className:s()("wc-block-checkout__shipping-method-option",{"wc-block-checkout__shipping-method-option--selected":"shipping"===e})},!0===n&&(0,r.createElement)(i.Z,{icon:fn.Z,size:28,className:"wc-block-checkout__shipping-method-option-icon"}),(0,r.createElement)(d.RichText,{value:c,placeholder:xn,tagName:"span",className:"wc-block-checkout__shipping-method-option-title",onChange:e=>a({shippingText:e}),__unstableDisableFormats:!0,preserveWhiteSpace:!0}),!0===o&&l)},Mn={...oo({defaultTitle:(0,u.__)("Shipping method","woo-gutenberg-products-block"),defaultDescription:(0,u.__)("Select how you would like to receive your order.","woo-gutenberg-products-block")}),className:{type:"string",default:""},showIcon:{type:"boolean",default:!0},showPrice:{type:"boolean",default:!0},localPickupText:{type:"string",default:Rn},shippingText:{type:"string",default:xn},lock:{type:"object",default:{move:!0,remove:!0}},shippingCostRequiresAddress:{type:"boolean",default:!1}};(0,l.registerBlockType)("woocommerce/checkout-shipping-method-block",{icon:{src:(0,r.createElement)(i.Z,{icon:fn.Z,className:"wc-block-editor-components-block-icon"})},attributes:Mn,edit:({attributes:e,setAttributes:t,clientId:o})=>{var n,c;const{setPrefersCollection:a}=(0,_.useDispatch)($.CHECKOUT_STORE_KEY),{prefersCollection:i}=(0,_.useSelect)((e=>({prefersCollection:e($.CHECKOUT_STORE_KEY).prefersCollection()}))),{showPrice:l,showIcon:p,className:m,localPickupText:g,shippingText:h}=e,{shippingRates:b,needsShipping:k,hasCalculatedShipping:E,isCollectable:w}=qe();return k&&E&&b&&w&&A?(0,r.createElement)(At,{attributes:e,setAttributes:t,className:s()("wc-block-checkout__shipping-method",m)},(0,r.createElement)(d.InspectorControls,null,(0,r.createElement)(gt.PanelBody,{title:(0,u.__)("Calculations","woo-gutenberg-products-block")},(0,r.createElement)(gt.ToggleControl,{label:(0,u.__)("Hide shipping costs until an address is entered","woo-gutenberg-products-block"),checked:e.shippingCostRequiresAddress,onChange:r=>{Sn(o,"shippingCostRequiresAddress",r,"woocommerce/checkout-shipping-methods-block"),(o=>{const r={};r[o]=!e[o],t(r)})("shippingCostRequiresAddress")}})),(0,r.createElement)(gt.PanelBody,{title:(0,u.__)("Appearance","woo-gutenberg-products-block")},(0,r.createElement)("p",{className:"wc-block-checkout__controls-text"},(0,u.__)("Choose how this block is displayed to your customers.","woo-gutenberg-products-block")),(0,r.createElement)(gt.ToggleControl,{label:(0,u.__)("Show icon","woo-gutenberg-products-block"),checked:p,onChange:()=>t({showIcon:!p})}),(0,r.createElement)(gt.ToggleControl,{label:(0,u.__)("Show costs","woo-gutenberg-products-block"),checked:l,onChange:()=>t({showPrice:!l})})),(0,r.createElement)(gt.PanelBody,{title:(0,u.__)("Shipping Methods","woo-gutenberg-products-block")},(0,r.createElement)("p",{className:"wc-block-checkout__controls-text"},(0,u.__)("Methods can be made managed in your store settings.","woo-gutenberg-products-block")),(0,r.createElement)(Br,{key:"shipping_methods",href:`${y.ADMIN_URL}admin.php?page=wc-settings&tab=shipping`,title:(0,u.__)("Shipping","woo-gutenberg-products-block"),description:(0,u.__)("Manage your shipping zones, methods, and rates.","woo-gutenberg-products-block")}),(0,r.createElement)(Br,{key:"pickup_location",href:`${y.ADMIN_URL}admin.php?page=wc-settings&tab=shipping&section=pickup_location`,title:(0,u.__)("Local Pickup","woo-gutenberg-products-block"),description:(0,u.__)("Allow customers to choose a local pickup location during checkout.","woo-gutenberg-products-block")}))),(0,r.createElement)(gt.__experimentalRadioGroup,{id:"shipping-method",className:"wc-block-checkout__shipping-method-container",label:"options",onChange:e=>{a("pickup"===e)},checked:i?"pickup":"shipping"},(0,r.createElement)(In,{checked:i?"pickup":"shipping",rate:Nn(null===(n=b[0])||void 0===n?void 0:n.shipping_rates),showPrice:l,showIcon:p,setAttributes:t,toggleText:h}),(0,r.createElement)(An,{checked:i?"pickup":"shipping",rate:Tn(null===(c=b[0])||void 0===c?void 0:c.shipping_rates),showPrice:l,showIcon:p,setAttributes:t,toggleText:g})),(0,r.createElement)(It,{block:ht.innerBlockAreas.SHIPPING_METHOD})):null},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()},(0,r.createElement)(Mt,null))}),o(7256);const On=()=>(0,r.createElement)(gt.Placeholder,{icon:(0,r.createElement)(i.Z,{icon:fn.Z}),label:(0,u.__)("Shipping options","woo-gutenberg-products-block"),className:"wc-block-checkout__no-shipping-placeholder"},(0,r.createElement)("span",{className:"wc-block-checkout__no-shipping-placeholder-description"},(0,u.__)("Your store does not have any Shipping Options configured. Once you have added your Shipping Options they will appear here.","woo-gutenberg-products-block")),(0,r.createElement)(gt.Button,{isSecondary:!0,href:`${y.ADMIN_URL}admin.php?page=wc-settings&tab=shipping`,target:"_blank",rel:"noopener noreferrer"},(0,u.__)("Configure Shipping Options","woo-gutenberg-products-block"))),Bn=e=>{const t=(0,y.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(e.price,10)+parseInt(e.taxes,10):parseInt(e.price,10);return{label:(0,de.decodeEntities)(e.name),value:e.rate_id,description:(0,de.decodeEntities)(e.description),secondaryLabel:(0,r.createElement)(Zo,{currency:(0,Wo.getCurrencyFromPriceResponse)(e),value:t}),secondaryDescription:(0,de.decodeEntities)(e.delivery_time)}},Dn=({noShippingPlaceholder:e=null})=>{const{isEditor:t}=k(),{shippingRates:o,needsShipping:n,isLoadingRates:s,hasCalculatedShipping:c,isCollectable:a}=qe(),{shippingAddress:i}=Nt(),l=a?o.map((e=>({...e,shipping_rates:e.shipping_rates.filter((e=>!De(e.method_id)))}))):o;if(!n)return null;const d=Me(o);if(!c&&!d)return(0,r.createElement)("p",null,(0,u.__)("Shipping options will be displayed here after entering your full shipping address.","woo-gutenberg-products-block"));const p=ke(i);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(ht.StoreNoticesContainer,{context:ae.SHIPPING_METHODS}),t&&!d?e:(0,r.createElement)(Nr,{noResultsMessage:(0,r.createElement)(r.Fragment,null,p?(0,r.createElement)(pr,{isDismissible:!1,className:"wc-block-components-shipping-rates-control__no-results-notice",status:"warning"},(0,u.__)("There are no shipping options available. Please check your shipping address.","woo-gutenberg-products-block")):(0,u.__)("Add a shipping address to view shipping options.","woo-gutenberg-products-block")),renderOption:Bn,collapsible:!1,shippingRates:l,isLoadingRates:s,context:"woocommerce/checkout"}))};o(5968);const Ln={...oo({defaultTitle:(0,u.__)("Shipping options","woo-gutenberg-products-block"),defaultDescription:""}),className:{type:"string",default:""},lock:{type:"object",default:{move:!0,remove:!0}},shippingCostRequiresAddress:{type:"boolean",default:!1}};o(7755),(0,l.registerBlockType)("woocommerce/checkout-shipping-methods-block",{icon:{src:(0,r.createElement)(i.Z,{icon:fn.Z,className:"wc-block-editor-components-block-icon"})},attributes:Ln,edit:({attributes:e,setAttributes:t,clientId:o})=>{const n=(0,y.getSetting)("globalShippingMethods"),c=(0,y.getSetting)("activeShippingZones"),{showShippingMethods:a}=Tt();return a?(0,r.createElement)(At,{attributes:e,setAttributes:t,className:s()("wc-block-checkout__shipping-option",null==e?void 0:e.className)},(0,r.createElement)(d.InspectorControls,null,(0,r.createElement)(gt.PanelBody,{title:(0,u.__)("Calculations","woo-gutenberg-products-block")},(0,r.createElement)(gt.ToggleControl,{label:(0,u.__)("Hide shipping costs until an address is entered","woo-gutenberg-products-block"),checked:e.shippingCostRequiresAddress,onChange:r=>{Sn(o,"shippingCostRequiresAddress",r,"woocommerce/checkout-shipping-method-block"),(o=>{const r={};r[o]=!e[o],t(r)})("shippingCostRequiresAddress")}})),n.length>0&&(0,r.createElement)(gt.PanelBody,{title:(0,u.__)("Methods","woo-gutenberg-products-block")},(0,r.createElement)("p",{className:"wc-block-checkout__controls-text"},(0,u.__)("The following shipping integrations are active on your store.","woo-gutenberg-products-block")),n.map((e=>(0,r.createElement)(Br,{key:e.id,href:`${y.ADMIN_URL}admin.php?page=wc-settings&tab=shipping&section=${e.id}`,title:e.title,description:e.description}))),(0,r.createElement)(gt.ExternalLink,{href:`${y.ADMIN_URL}admin.php?page=wc-settings&tab=shipping`},(0,u.__)("Manage shipping methods","woo-gutenberg-products-block"))),c.length&&(0,r.createElement)(gt.PanelBody,{title:(0,u.__)("Zones","woo-gutenberg-products-block")},(0,r.createElement)("p",{className:"wc-block-checkout__controls-text"},(0,u.__)("You currently have the following shipping zones active.","woo-gutenberg-products-block")),c.map((e=>(0,r.createElement)(Br,{key:e.id,href:`${y.ADMIN_URL}admin.php?page=wc-settings&tab=shipping&zone_id=${e.id}`,title:e.title,description:e.description}))),(0,r.createElement)(gt.ExternalLink,{href:`${y.ADMIN_URL}admin.php?page=wc-settings&tab=shipping`},(0,u.__)("Manage shipping zones","woo-gutenberg-products-block")))),(0,r.createElement)(Ft,null,(0,r.createElement)(Dn,{noShippingPlaceholder:(0,r.createElement)(On,null),shippingCostRequiresAddress:e.shippingCostRequiresAddress})),(0,r.createElement)(It,{block:ht.innerBlockAreas.SHIPPING_METHODS})):null},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()},(0,r.createElement)(Mt,null))});const Fn=({title:e,setSelectedOption:t,selectedOption:o,pickupLocations:n,onSelectRate:s,renderPickupLocation:c,packageCount:a})=>{const i=document.querySelectorAll(".wc-block-components-local-pickup-select .wc-block-components-radio-control").length>1;return(0,r.createElement)("div",{className:"wc-block-components-local-pickup-select"},!(!i||!e)&&(0,r.createElement)("div",null,e),(0,r.createElement)(vr,{onChange:e=>{t(e),s(e)},selected:o,options:n.map((e=>c(e,a)))}))},Un=(e,t)=>{const o=(0,y.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(e.price,10)+parseInt(e.taxes,10):e.price,n=(e=>{if(null!=e&&e.meta_data){const t=e.meta_data.find((e=>"pickup_location"===e.key));return t?t.value:""}return""})(e),s=(e=>{if(null!=e&&e.meta_data){const t=e.meta_data.find((e=>"pickup_address"===e.key));return t?t.value:""}return""})(e),c=(e=>{if(null!=e&&e.meta_data){const t=e.meta_data.find((e=>"pickup_details"===e.key));return t?t.value:""}return""})(e);let a=(0,r.createElement)("em",null,(0,u.__)("free","woo-gutenberg-products-block"));return parseInt(o,10)>0&&(a=1===t?(0,r.createElement)(Zo,{currency:(0,Wo.getCurrencyFromPriceResponse)(e),value:o}):(0,r.createInterpolateElement)(/* translators: <price/> is the price of the package, <packageCount/> is the number of packages. These must appear in the translated string. */
(0,u._n)("<price/> x <packageCount/> package","<price/> x <packageCount/> packages",t,"woo-gutenberg-products-block"),{price:(0,r.createElement)(Zo,{currency:(0,Wo.getCurrencyFromPriceResponse)(e),value:o}),packageCount:(0,r.createElement)(r.Fragment,null,t)})),{value:e.rate_id,label:n?(0,de.decodeEntities)(n):(0,de.decodeEntities)(e.name),secondaryLabel:a,description:(0,de.decodeEntities)(c),secondaryDescription:s?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(i.Z,{icon:Pt.Z,className:"wc-block-editor-components-block-icon"}),(0,de.decodeEntities)(s)):void 0}},Vn=()=>{var e;const{shippingRates:t,selectShippingRate:o}=qe(),n=((null===(e=t[0])||void 0===e?void 0:e.shipping_rates)||[]).filter(Be),[s,c]=(0,r.useState)((()=>{var e;return(null===(e=n.find((e=>e.selected)))||void 0===e?void 0:e.rate_id)||""})),a=(0,r.useCallback)((e=>{o(e)}),[o]),{extensions:i,receiveCart:l,...u}=Re(),d={extensions:i,cart:u,components:{ShippingRatesControlPackage:Sr,LocalPickupSelect:Fn},renderPickupLocation:Un};(0,r.useEffect)((()=>{!s&&n[0]&&(c(n[0].rate_id),a(n[0].rate_id))}),[a,n,s]);const p=Me(t);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(ht.ExperimentalOrderLocalPickupPackages.Slot,{...d}),(0,r.createElement)(ht.ExperimentalOrderLocalPickupPackages,null,(0,r.createElement)(Fn,{title:t[0].name,setSelectedOption:c,onSelectRate:a,selectedOption:s,renderPickupLocation:Un,pickupLocations:n,packageCount:p})))},Yn={...oo({defaultTitle:(0,u.__)("Pickup options","woo-gutenberg-products-block"),defaultDescription:""}),className:{type:"string",default:""},lock:{type:"object",default:{move:!0,remove:!0}}};o(9939),(0,l.registerBlockType)("woocommerce/checkout-pickup-options-block",{icon:{src:(0,r.createElement)(i.Z,{icon:Cn.Z,className:"wc-block-editor-components-block-icon"})},attributes:Yn,edit:({attributes:e,setAttributes:t})=>{const{prefersCollection:o}=(0,_.useSelect)((e=>({prefersCollection:e($.CHECKOUT_STORE_KEY).prefersCollection()}))),{className:n}=e;return o&&A?(0,r.createElement)(At,{attributes:e,setAttributes:t,className:s()("wc-block-checkout__shipping-method",n)},(0,r.createElement)(Vn,null),(0,r.createElement)(It,{block:ht.innerBlockAreas.PICKUP_LOCATION})):null},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()},(0,r.createElement)(Mt,null))});const $n=({className:e=""})=>{const{cartTotals:t}=Re(),o=(0,Wo.getCurrencyFromPriceResponse)(t);return(0,r.createElement)(ht.TotalsWrapper,{className:e},(0,r.createElement)(ht.Subtotal,{currency:o,values:t}))};(0,l.registerBlockType)("woocommerce/checkout-order-summary-subtotal-block",{icon:{src:(0,r.createElement)(i.Z,{icon:Fo,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,d.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)($n,{className:t}))},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()})});const jn=({className:e=""})=>{const{cartFees:t,cartTotals:o}=Re(),n=(0,Wo.getCurrencyFromPriceResponse)(o);return(0,r.createElement)(ht.TotalsWrapper,{className:e},(0,r.createElement)(ht.TotalsFees,{currency:n,cartFees:t}))};(0,l.registerBlockType)("woocommerce/checkout-order-summary-fee-block",{icon:{src:(0,r.createElement)(i.Z,{icon:Fo,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,d.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(jn,{className:t}))},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()})});const Kn=()=>{const{extensions:e,receiveCart:t,...o}=Re(),n={extensions:e,cart:o,context:"woocommerce/checkout"};return(0,r.createElement)(ht.ExperimentalDiscountsMeta.Slot,{...n})},qn=({className:e=""})=>{const{cartTotals:t,cartCoupons:o}=Re(),{removeCoupon:n,isRemovingCoupon:s}=Xr("wc/checkout"),c=(0,Wo.getCurrencyFromPriceResponse)(t);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(ht.TotalsWrapper,{className:e},(0,r.createElement)(qo,{cartCoupons:o,currency:c,isRemovingCoupon:s,removeCoupon:n,values:t})),(0,r.createElement)(Kn,null))};(0,l.registerBlockType)("woocommerce/checkout-order-summary-discount-block",{icon:{src:(0,r.createElement)(i.Z,{icon:Fo,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,d.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(qn,{className:t}))},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()})});const Hn=({className:e=""})=>{const{cartTotals:t,cartNeedsShipping:o}=Re();if(!o)return null;const n=(0,Wo.getCurrencyFromPriceResponse)(t);return(0,r.createElement)(ht.TotalsWrapper,{className:e},(0,r.createElement)(Rr,{showCalculator:!1,showRateSelector:!1,values:t,currency:n,isCheckout:!0}))};(0,l.registerBlockType)("woocommerce/checkout-order-summary-shipping-block",{icon:{src:(0,r.createElement)(i.Z,{icon:Fo,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,d.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(Ft,null,(0,r.createElement)(Hn,{className:t})))},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()})});var zn=o(7625);const Zn=({className:e=""})=>{const t=(0,y.getSetting)("couponsEnabled",!0),{applyCoupon:o,isApplyingCoupon:n}=Xr("wc/checkout");return t?(0,r.createElement)(ht.TotalsWrapper,{className:e},(0,r.createElement)(Vo,{onSubmit:o,isLoading:n})):null};(0,l.registerBlockType)("woocommerce/checkout-order-summary-coupon-form-block",{icon:{src:(0,r.createElement)(i.Z,{icon:zn.Z,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,d.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(Ft,null,(0,r.createElement)(Zn,{className:t})))},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()})});const Wn=({className:e,showRateAfterTaxName:t})=>{const{cartTotals:o}=Re();if((0,y.getSetting)("displayCartPricesIncludingTax",!1)||parseInt(o.total_tax,10)<=0)return null;const n=(0,Wo.getCurrencyFromPriceResponse)(o);return(0,r.createElement)(ht.TotalsWrapper,{className:e},(0,r.createElement)(ht.TotalsTaxes,{showRateAfterTaxName:t,currency:n,values:o}))},Gn={showRateAfterTaxName:{type:"boolean",default:(0,y.getSetting)("displayCartPricesIncludingTax",!1)},lock:{type:"object",default:{remove:!0,move:!1}}};(0,l.registerBlockType)("woocommerce/checkout-order-summary-taxes-block",{icon:{src:(0,r.createElement)(i.Z,{icon:Fo,className:"wc-block-editor-components-block-icon"})},attributes:Gn,edit:({attributes:e,setAttributes:t})=>{const{className:o,showRateAfterTaxName:n}=e,s=(0,d.useBlockProps)(),c=(0,y.getSetting)("taxesEnabled"),a=(0,y.getSetting)("displayItemizedTaxes",!1),i=(0,y.getSetting)("displayCartPricesIncludingTax",!1);return(0,r.createElement)("div",{...s},(0,r.createElement)(d.InspectorControls,null,c&&a&&!i&&(0,r.createElement)(gt.PanelBody,{title:(0,u.__)("Taxes","woo-gutenberg-products-block")},(0,r.createElement)(gt.ToggleControl,{label:(0,u.__)("Show rate after tax name","woo-gutenberg-products-block"),help:(0,u.__)("Show the percentage rate alongside each tax line in the summary.","woo-gutenberg-products-block"),checked:n,onChange:()=>t({showRateAfterTaxName:!n})}))),(0,r.createElement)(Wn,{className:o,showRateAfterTaxName:n}))},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()})});const Xn=(0,r.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,r.createElement)("path",{d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}));o(5138);const Jn=({currency:e,maxPrice:t,minPrice:o,priceClassName:n,priceStyle:c={}})=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{className:"screen-reader-text"},(0,u.sprintf)(/* translators: %1$s min price, %2$s max price */
(0,u.__)("Price between %1$s and %2$s","woo-gutenberg-products-block"),(0,Wo.formatPrice)(o),(0,Wo.formatPrice)(t))),(0,r.createElement)("span",{"aria-hidden":!0},(0,r.createElement)(Zo,{className:s()("wc-block-components-product-price__value",n),currency:e,value:o,style:c}),"Â âÂ ",(0,r.createElement)(Zo,{className:s()("wc-block-components-product-price__value",n),currency:e,value:t,style:c}))),Qn=({currency:e,regularPriceClassName:t,regularPriceStyle:o,regularPrice:n,priceClassName:c,priceStyle:a,price:i})=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{className:"screen-reader-text"},(0,u.__)("Previous price:","woo-gutenberg-products-block")),(0,r.createElement)(Zo,{currency:e,renderText:e=>(0,r.createElement)("del",{className:s()("wc-block-components-product-price__regular",t),style:o},e),value:n}),(0,r.createElement)("span",{className:"screen-reader-text"},(0,u.__)("Discounted price:","woo-gutenberg-products-block")),(0,r.createElement)(Zo,{currency:e,renderText:e=>(0,r.createElement)("ins",{className:s()("wc-block-components-product-price__value","is-discounted",c),style:a},e),value:i})),es=({align:e,className:t,currency:o,format:n="<price/>",maxPrice:c,minPrice:a,price:i,priceClassName:l,priceStyle:u,regularPrice:d,regularPriceClassName:p,regularPriceStyle:m,style:g})=>{const h=s()(t,"price","wc-block-components-product-price",{[`wc-block-components-product-price--align-${e}`]:e});n.includes("<price/>")||(n="<price/>",console.error("Price formats need to include the `<price/>` tag."));const _=d&&i!==d;let b=(0,r.createElement)("span",{className:s()("wc-block-components-product-price__value",l)});return _?b=(0,r.createElement)(Qn,{currency:o,price:i,priceClassName:l,priceStyle:u,regularPrice:d,regularPriceClassName:p,regularPriceStyle:m}):void 0!==a&&void 0!==c?b=(0,r.createElement)(Jn,{currency:o,maxPrice:c,minPrice:a,priceClassName:l,priceStyle:u}):i&&(b=(0,r.createElement)(Zo,{className:s()("wc-block-components-product-price__value",l),currency:o,value:i,style:u})),(0,r.createElement)("span",{className:h,style:g},(0,r.createInterpolateElement)(n,{price:b}))};o(5641);const ts=({className:e="",disabled:t=!1,name:o,permalink:n="",target:c,rel:a,style:i,onClick:l,...u})=>{const d=s()("wc-block-components-product-name",e);if(t){const e=u;return(0,r.createElement)("span",{className:d,...e,dangerouslySetInnerHTML:{__html:(0,de.decodeEntities)(o)}})}return(0,r.createElement)("a",{className:d,href:n,target:c,...u,dangerouslySetInnerHTML:{__html:(0,de.decodeEntities)(o)},style:i})};var os=o(711);o(6315);const rs=({children:e,className:t})=>(0,r.createElement)("div",{className:s()("wc-block-components-product-badge",t)},e),ns=()=>(0,r.createElement)(rs,{className:"wc-block-components-product-backorder-badge"},(0,u.__)("Available on backorder","woo-gutenberg-products-block")),ss=({image:e={},fallbackAlt:t=""})=>{const o=e.thumbnail?{src:e.thumbnail,alt:(0,de.decodeEntities)(e.alt)||t||"Product Image"}:{src:y.PLACEHOLDER_IMG_SRC,alt:""};return(0,r.createElement)("img",{...o,alt:o.alt})},cs=({lowStockRemaining:e})=>e?(0,r.createElement)(rs,{className:"wc-block-components-product-low-stock-badge"},(0,u.sprintf)(/* translators: %d stock amount (number of items in stock for product) */
(0,u.__)("%d left in stock","woo-gutenberg-products-block"),e)):null;var as=o(9784);o(7984);const is=({details:e=[]})=>Array.isArray(e)?0===(e=e.filter((e=>!e.hidden))).length?null:(0,r.createElement)("ul",{className:"wc-block-components-product-details"},e.map((e=>{const t=(null==e?void 0:e.key)||e.name||"",o=(null==e?void 0:e.className)||(t?`wc-block-components-product-details__${(0,as.o)(t)}`:"");return(0,r.createElement)("li",{key:t+(e.display||e.value),className:o},t&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{className:"wc-block-components-product-details__name"},(0,de.decodeEntities)(t),":")," "),(0,r.createElement)("span",{className:"wc-block-components-product-details__value"},(0,de.decodeEntities)(e.display||e.value)))}))):null,ls=window.wp.wordcount,us=({source:e,maxLength:t=15,countType:o="words",className:n="",style:s={}})=>{const c=(0,r.useMemo)((()=>((e,t=15,o="words")=>{const r=(0,Dr.autop)(e);if((0,ls.count)(r,o)<=t)return r;const n=(e=>{const t=e.indexOf("</p>");return-1===t?e:e.substr(0,t+4)})(r);return(0,ls.count)(n,o)<=t?n:"words"===o?Ur(n,t):Vr(n,t,"characters_including_spaces"===o)})(e,t,o)),[e,t,o]);return(0,r.createElement)(r.RawHTML,{style:s,className:n},c)},ds=({className:e,shortDescription:t="",fullDescription:o=""})=>{const n=t||o;return n?(0,r.createElement)(us,{className:e,source:n,maxLength:15,countType:C.wordCountType||"words"}):null};o(9889);const ps=({shortDescription:e="",fullDescription:t="",itemData:o=[],variation:n=[]})=>(0,r.createElement)("div",{className:"wc-block-components-product-metadata"},(0,r.createElement)(ds,{className:"wc-block-components-product-metadata__description",shortDescription:e,fullDescription:t}),(0,r.createElement)(is,{details:o}),(0,r.createElement)(is,{details:n.map((({attribute:e="",value:t})=>({key:e,value:t})))})),ms=e=>(0,ht.mustContain)(e,"<price/>"),gs=({cartItem:e})=>{const{images:t,low_stock_remaining:o,show_backorder_badge:n,name:c,permalink:a,prices:i,quantity:l,short_description:d,description:p,item_data:m,variation:g,totals:h,extensions:_}=e,{receiveCart:b,...k}=Re(),E=(0,r.useMemo)((()=>({context:"summary",cartItem:e,cart:k})),[e,k]),w=(0,Wo.getCurrencyFromPriceResponse)(i),v=(0,ht.applyCheckoutFilter)({filterName:"itemName",defaultValue:c,extensions:_,arg:E}),f=(0,os.Z)({amount:parseInt(i.raw_prices.regular_price,10),precision:pe(i.raw_prices.precision)?parseInt(i.raw_prices.precision,10):i.raw_prices.precision}).convertPrecision(w.minorUnit).getAmount(),C=(0,os.Z)({amount:parseInt(i.raw_prices.price,10),precision:pe(i.raw_prices.precision)?parseInt(i.raw_prices.precision,10):i.raw_prices.precision}).convertPrecision(w.minorUnit).getAmount(),S=(0,Wo.getCurrencyFromPriceResponse)(h);let P=parseInt(h.line_subtotal,10);(0,y.getSetting)("displayCartPricesIncludingTax",!1)&&(P+=parseInt(h.line_subtotal_tax,10));const N=(0,os.Z)({amount:P,precision:S.minorUnit}).getAmount(),T=(0,ht.applyCheckoutFilter)({filterName:"subtotalPriceFormat",defaultValue:"<price/>",extensions:_,arg:E,validation:ms}),R=(0,ht.applyCheckoutFilter)({filterName:"cartItemPrice",defaultValue:"<price/>",extensions:_,arg:E,validation:ms}),x=(0,ht.applyCheckoutFilter)({filterName:"cartItemClass",defaultValue:"",extensions:_,arg:E});return(0,r.createElement)("div",{className:s()("wc-block-components-order-summary-item",x)},(0,r.createElement)("div",{className:"wc-block-components-order-summary-item__image"},(0,r.createElement)("div",{className:"wc-block-components-order-summary-item__quantity"},(0,r.createElement)(mr,{label:l.toString(),screenReaderLabel:(0,u.sprintf)(/* translators: %d number of products of the same type in the cart */
(0,u._n)("%d item","%d items",l,"woo-gutenberg-products-block"),l)})),(0,r.createElement)(ss,{image:t.length?t[0]:{},fallbackAlt:v})),(0,r.createElement)("div",{className:"wc-block-components-order-summary-item__description"},(0,r.createElement)(ts,{disabled:!0,name:v,permalink:a}),(0,r.createElement)(es,{currency:w,price:C,regularPrice:f,className:"wc-block-components-order-summary-item__individual-prices",priceClassName:"wc-block-components-order-summary-item__individual-price",regularPriceClassName:"wc-block-components-order-summary-item__regular-individual-price",format:T}),n?(0,r.createElement)(ns,null):!!o&&(0,r.createElement)(cs,{lowStockRemaining:o}),(0,r.createElement)(ps,{shortDescription:d,fullDescription:p,itemData:m,variation:g})),(0,r.createElement)("span",{className:"screen-reader-text"},(0,u.sprintf)(/* translators: %1$d is the number of items, %2$s is the item name and %3$s is the total price including the currency symbol. */
(0,u._n)("Total price for %1$d %2$s item: %3$s","Total price for %1$d %2$s items: %3$s",l,"woo-gutenberg-products-block"),l,v,(0,Wo.formatPrice)(N,S))),(0,r.createElement)("div",{className:"wc-block-components-order-summary-item__total-price","aria-hidden":"true"},(0,r.createElement)(es,{currency:S,format:R,price:N})))};o(2911);const hs=({cartItems:e=[]})=>{const{isLarge:t,hasContainerWidth:o}=(0,r.useContext)(m);return o?(0,r.createElement)(ht.Panel,{className:"wc-block-components-order-summary",initialOpen:t,hasBorder:!1,title:(0,r.createElement)("span",{className:"wc-block-components-order-summary__button-text"},(0,u.__)("Order summary","woo-gutenberg-products-block"))},(0,r.createElement)("div",{className:"wc-block-components-order-summary__content"},e.map((e=>(0,r.createElement)(gs,{key:e.key,cartItem:e}))))):null},_s=({className:e})=>{const{cartItems:t}=Re();return(0,r.createElement)(ht.TotalsWrapper,{className:e},(0,r.createElement)(hs,{cartItems:t}))};(0,l.registerBlockType)("woocommerce/checkout-order-summary-cart-items-block",{icon:{src:(0,r.createElement)(i.Z,{icon:Xn,className:"wc-block-editor-components-block-icon"})},edit:({attributes:e})=>{const{className:t}=e,o=(0,d.useBlockProps)();return(0,r.createElement)("div",{...o},(0,r.createElement)(_s,{className:t}))},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save()})}),o(5762);var bs=o(9630);const ks=(e,t=!0)=>{t?window.document.body.classList.add(e):window.document.body.classList.remove(e)},Es=({attributes:e,setAttributes:t})=>{const{hasDarkControls:o}=e;return(0,r.createElement)(d.InspectorControls,null,(0,r.createElement)(gt.PanelBody,{title:(0,u.__)("Style","woo-gutenberg-products-block")},(0,r.createElement)(gt.ToggleControl,{label:(0,u.__)("Dark mode inputs","woo-gutenberg-products-block"),help:(0,u.__)("Inputs styled specifically for use on dark background colors.","woo-gutenberg-products-block"),checked:o,onChange:()=>t({hasDarkControls:!o})})))};o(2);const ws=(e,t)=>{const[o,n]=(0,r.useState)((()=>{const o=window.localStorage.getItem(e);if(o)try{return JSON.parse(o)}catch{console.error(`Value for key '${e}' could not be retrieved from localStorage because it can't be parsed.`)}return t}));return(0,r.useEffect)((()=>{try{window.localStorage.setItem(e,JSON.stringify(o))}catch{console.error(`Value for key '${e}' could not be saved in localStorage because it can't be converted into a string.`)}}),[e,o]),[o,n]},ys=[],vs=({block:e})=>{const[t,o]=(e=>{const[t,o]=ws("wc-blocks_dismissed_sidebar_compatibility_notices",ys),[n,s]=(0,r.useState)(!1),c=t.includes(e);return(0,r.useEffect)((()=>{s(!c)}),[c]),[n,()=>{const r=new Set(t);r.add(e),o([...r])}]})(e),n=(0,r.createInterpolateElement)((0,u.__)("The Cart & Checkout Blocks are built to optimize for faster checkout. To make sure this feature is right for your store, <a>review the list of compatible extensions</a>.","woo-gutenberg-products-block"),{a:(0,r.createElement)(gt.ExternalLink,{href:"https://woocommerce.com/document/cart-checkout-blocks-support-status/#section-3"})});return(0,r.createElement)(gt.Notice,{onRemove:o,className:s()(["wc-blocks-sidebar-compatibility-notice",{"is-hidden":!t}])},n)};function fs(){const e=(0,u.__)("Your store does not have any payment methods that support the Checkout block. Once you have configured a compatible payment method it will be displayed here.","woo-gutenberg-products-block");return(0,r.createElement)(gt.Notice,{className:"wc-blocks-no-payment-methods-notice",status:"warning",spokenMessage:e,isDismissible:!1},(0,r.createElement)("div",{className:"wc-blocks-no-payment-methods-notice__content"},e," ",(0,r.createElement)(gt.ExternalLink,{href:`${y.ADMIN_URL}admin.php?page=wc-settings&tab=checkout`},(0,u.__)("Configure Payment Methods","woo-gutenberg-products-block"))))}o(9446);const Cs=window.wp.editor,Ss=window.wp.coreData;function Ps({block:e}){const t="checkout"===e?P:R,o="checkout"===e?"woocommerce_checkout_page_id":"woocommerce_cart_page_id",n="checkout"===e?(0,u.__)("If you would like to use this block as your default checkout, update your page settings","woo-gutenberg-products-block"):(0,u.__)("If you would like to use this block as your default cart, update your page settings","woo-gutenberg-products-block"),{saveEntityRecord:s}=(0,_.useDispatch)(Ss.store),{editPost:c,savePost:a}=(0,_.useDispatch)(Cs.store),{slug:i,isLoadingPage:l,postPublished:d,currentPostId:p}=(0,_.useSelect)((o=>{var r;const{getEntityRecord:n,isResolving:s}=o(Ss.store),{isCurrentPostPublished:c,getCurrentPostId:a}=o(Cs.store);return{slug:(null===(r=n("postType","page",t))||void 0===r?void 0:r.slug)||e,isLoadingPage:s("getEntityRecord",["postType","page",t]),postPublished:c(),currentPostId:a()}}),[]),[m,g]=(0,r.useState)("pristine"),h=(0,r.useCallback)((()=>{g("updating"),Promise.resolve().then((()=>at()({path:`/wc/v3/settings/advanced/${o}`,method:"GET"}))).catch((e=>{"rest_setting_setting_invalid"===e.code&&g("error")})).then((()=>{if(!d)return c({status:"publish"}),a()})).then((()=>at()({path:`/wc/v3/settings/advanced/${o}`,method:"POST",data:{value:p.toString()}}))).then((()=>{if(0!==t)return s("postType","page",{id:t,slug:`${i}-2`})})).then((()=>c({slug:i}))).then((()=>a())).then((()=>g("updated")))}),[d,c,a,o,p,t,s,i]);return"string"==typeof pagenow&&"site-editor"===pagenow||p===t||"dismissed"===m?null:(0,r.createElement)(gt.Notice,{className:"wc-default-page-notice",status:"updated"===m?"success":"warning",onRemove:()=>g("dismissed"),spokenMessage:"updated"===m?(0,u.__)("Page settings updated","woo-gutenberg-products-block"):n},"updated"===m?(0,u.__)("Page settings updated","woo-gutenberg-products-block"):(0,r.createElement)(r.Fragment,null,(0,r.createElement)("p",null,n),(0,r.createElement)(gt.Button,{onClick:h,variant:"secondary",isBusy:"updating"===m,disabled:l,isSmall:!0},(0,u.__)("Update your page settings","woo-gutenberg-products-block"))))}o(27);const Ns=[];function Ts({toggleDismissedStatus:e,block:t}){const[o,n,s,c]=(e=>{const[t,o,n]=(()=>{const e={};(0,y.getSetting)("incompatibleExtensions")&&(0,y.getSetting)("incompatibleExtensions").forEach((t=>{e[t.id]=t.title}));const t=Object.keys(e),o=t.length;return[e,t,o]})(),[s,c,a]=(()=>{const{incompatiblePaymentMethods:e}=(0,_.useSelect)((e=>{const{getIncompatiblePaymentMethods:t}=e(rn);return{incompatiblePaymentMethods:t()}}),[]),t=Object.keys(e);return[e,t,t.length]})(),i={...t,...s},l=[...o,...c],u=n+a,[d,p]=ws("wc-blocks_dismissed_incompatible_extensions_notices",Ns),[m,g]=(0,r.useState)(!1),h=d.some((t=>{return Object.keys(t).includes(e)&&(o=t[e],r=l,o.length===r.length&&new Set([...o,...r]).size===o.length);var o,r})),b=0===u||h;return(0,r.useEffect)((()=>{g(!b),b||h||p((t=>t.reduce(((t,o)=>(Object.keys(o).includes(e)||t.push(o),t)),[])))}),[b,h,p,e]),[m,()=>{const t=new Set(d);t.add({[e]:l}),p([...t])},(k=i,Object.fromEntries(Object.entries(k).sort((([,e],[,t])=>e.localeCompare(t))))),u];var k})(t);if((0,r.useEffect)((()=>{e(!o)}),[o,e]),!o)return null;const a=(0,r.createElement)(r.Fragment,null,c>1?(0,r.createInterpolateElement)((0,u.__)("The following extensions may be incompatible with the block-based checkout. <a>Learn more</a>","woo-gutenberg-products-block"),{a:(0,r.createElement)(gt.ExternalLink,{href:"https://woocommerce.com/document/cart-checkout-blocks-support-status/"})}):(0,r.createInterpolateElement)((0,u.sprintf)(
// translators: %s is the name of the extension that is incompatible with the block-based checkout.
(0,u.__)("<strong>%s</strong> may be incompatible with the block-based checkout. <a>Learn more</a>","woo-gutenberg-products-block"),Object.values(s)[0]),{strong:(0,r.createElement)("strong",null),a:(0,r.createElement)(gt.ExternalLink,{href:"https://woocommerce.com/document/cart-checkout-blocks-support-status/"})}));return(0,r.createElement)(gt.Notice,{className:"wc-blocks-incompatible-extensions-notice",status:"warning",onRemove:n,spokenMessage:a},(0,r.createElement)("div",{className:"wc-blocks-incompatible-extensions-notice__content"},(0,r.createElement)(i.Z,{className:"wc-blocks-incompatible-extensions-notice__warning-icon",icon:(0,r.createElement)(Or,null)}),(0,r.createElement)("div",null,(0,r.createElement)("p",null,a),c>1&&(0,r.createElement)("ul",null,Object.entries(s).map((([e,t])=>(0,r.createElement)("li",{key:e,className:"wc-blocks-incompatible-extensions-notice__element"},t)))))))}o(1128);var Rs=o(7286);o(4662);const xs=({text:e,title:t=(0,u.__)("Feedback?","woo-gutenberg-products-block"),url:o="https://ideas.woocommerce.com/forums/133476-woocommerce?category_id=384565"})=>{const[n,s]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{s(!0)}),[]),(0,r.createElement)(r.Fragment,null,n&&(0,r.createElement)("div",{className:"wc-block-feedback-prompt"},(0,r.createElement)(i.Z,{icon:Rs.Z}),(0,r.createElement)("h2",{className:"wc-block-feedback-prompt__title"},t),(0,r.createElement)("p",{className:"wc-block-feedback-prompt__text"},e),(0,r.createElement)("a",{href:o,className:"wc-block-feedback-prompt__link",rel:"noreferrer noopener",target:"_blank"},(0,u.__)("Give us your feedback.","woo-gutenberg-products-block"),(0,r.createElement)(i.Z,{icon:Ir.Z,size:16}))))},As=()=>(0,r.createElement)(xs,{text:(0,u.__)("We are currently working on improving our cart and checkout blocks to provide merchants with the tools and customization options they need.","woo-gutenberg-products-block"),url:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/issues/new?template=--cart-checkout-feedback.md"}),Is=(0,p.createHigherOrderComponent)((e=>t=>{const{clientId:o,name:n,isSelected:s}=t,[c,a]=(0,r.useState)(!0),{isCart:i,isCheckout:l,isPaymentMethodsBlock:u,hasPaymentMethods:p}=(0,_.useSelect)((e=>{const{getBlockParentsByBlockName:t,getBlockName:r}=e(d.store),n=t(o,["woocommerce/cart","woocommerce/checkout"]).map(r),s=r(o);return{isCart:n.includes("woocommerce/cart")||"woocommerce/cart"===s,isCheckout:n.includes("woocommerce/checkout")||"woocommerce/checkout"===s,isPaymentMethodsBlock:"woocommerce/checkout-payment-block"===s,hasPaymentMethods:e($.PAYMENT_STORE_KEY).paymentMethodsInitialized()&&Object.keys(e($.PAYMENT_STORE_KEY).getAvailablePaymentMethods()).length>0}}));return n.startsWith("woocommerce/")&&s&&(i||l)?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(d.InspectorControls,null,(0,r.createElement)(Ts,{toggleDismissedStatus:e=>{a(e)},block:l?"woocommerce/checkout":"woocommerce/cart"}),(0,r.createElement)(Ps,{block:l?"checkout":"cart"}),c?(0,r.createElement)(vs,{block:l?"checkout":"cart"}):null,u&&!p&&(0,r.createElement)(fs,null),(0,r.createElement)(As,null)),(0,r.createElement)(e,{key:"edit",...t})):(0,r.createElement)(e,{key:"edit",...t})}),"withSidebarNotices");(0,je.hasFilter)("editor.BlockEdit","woocommerce/add/sidebar-compatibility-notice")||(0,je.addFilter)("editor.BlockEdit","woocommerce/add/sidebar-compatibility-notice",Is,11),(0,je.hasFilter)("blocks.registerBlockType","core/lock/addAttribute")||(0,_.subscribe)((()=>{var e,t,o,r;const n=(0,_.select)(d.store);if(!n)return;const s=n.getSelectedBlock();s&&(ks("wc-lock-selected-block--remove",!(null==s||null===(e=s.attributes)||void 0===e||null===(t=e.lock)||void 0===t||!t.remove)),ks("wc-lock-selected-block--move",!(null==s||null===(o=s.attributes)||void 0===o||null===(r=o.lock)||void 0===r||!r.move)))}));const Ms=["woocommerce/checkout-fields-block","woocommerce/checkout-totals-block"],Os={hasDarkControls:{type:"boolean",default:(0,y.getSetting)("hasDarkEditorStyleSupport",!1)},showRateAfterTaxName:{type:"boolean",default:(0,y.getSetting)("displayCartPricesIncludingTax",!1)}},Bs={showOrderNotes:{type:"boolean",default:!0},showPolicyLinks:{type:"boolean",default:!0},showReturnToCart:{type:"boolean",default:!0},cartPageId:{type:"number",default:0}},Ds=JSON.parse('{"name":"woocommerce/checkout","version":"1.0.0","title":"Checkout","description":"Display a checkout form so your customers can submit orders.","category":"woocommerce","keywords":["WooCommerce"],"supports":{"align":["wide"],"html":false,"multiple":false},"example":{"attributes":{"isPreview":true},"viewportWidth":800},"attributes":{"isPreview":{"type":"boolean","default":false,"save":false},"showCompanyField":{"type":"boolean","default":false},"requireCompanyField":{"type":"boolean","default":false},"showApartmentField":{"type":"boolean","default":true},"showPhoneField":{"type":"boolean","default":true},"requirePhoneField":{"type":"boolean","default":false},"align":{"type":"string","default":"wide"}},"textdomain":"woo-gutenberg-products-block","apiVersion":2,"$schema":"https://schemas.wp.org/trunk/block.json"}'),Ls={icon:{src:(0,r.createElement)(i.Z,{icon:a,className:"wc-block-editor-components-block-icon"})},attributes:{...Ds.attributes,...Os,...Bs},edit:({attributes:e,setAttributes:t})=>{const{showCompanyField:o,requireCompanyField:n,showApartmentField:c,showPhoneField:a,requirePhoneField:i,showOrderNotes:p,showPolicyLinks:m,showReturnToCart:g,showRateAfterTaxName:b,cartPageId:k,isPreview:w=!1}=e,y=o=>{const r={};r[o]=!e[o],t(r)},v=((e={})=>{const t=(0,r.useRef)(),o=(0,d.useBlockProps)({ref:t,...e});return(({ref:e})=>{const t=(0,je.hasFilter)("blocks.registerBlockType","core/lock/addAttribute"),o=e.current;(0,r.useEffect)((()=>{if(o&&!t)return o.addEventListener("keydown",e,{capture:!0,passive:!1}),()=>{o.removeEventListener("keydown",e,{capture:!0})};function e(e){const{keyCode:t,target:o}=e;if(!(o instanceof HTMLElement))return;if(t!==bs.BACKSPACE&&t!==bs.DELETE)return;if((0,Bt.isTextField)(o))return;const r=o;if(void 0===r.dataset.block)return;const n=(e=>{var t,o,r,n,s;if(!e)return!1;const{getBlock:c}=(0,_.select)(d.store),a=c(e);if("boolean"==typeof(null==a||null===(t=a.attributes)||void 0===t||null===(o=t.lock)||void 0===o?void 0:o.remove))return a.attributes.lock.remove;const i=(0,l.getBlockType)(a.name);var u,p,m;return"boolean"==typeof(null==i||null===(r=i.attributes)||void 0===r||null===(n=r.lock)||void 0===n||null===(s=n.default)||void 0===s?void 0:s.remove)&&(null==i||null===(u=i.attributes)||void 0===u||null===(p=u.lock)||void 0===p||null===(m=p.default)||void 0===m?void 0:m.remove)})(r.dataset.block);n&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}}),[o,t])})({ref:t}),o})();return(0,r.createElement)("div",{...v},(0,r.createElement)(d.InspectorControls,null,(0,r.createElement)(Es,{attributes:e,setAttributes:t})),(0,r.createElement)(E,{isPreview:w,previewData:{previewCart:$e,previewSavedPaymentMethods:mt}},(0,r.createElement)(ht.SlotFillProvider,null,(0,r.createElement)(pt,null,(0,r.createElement)(h,{className:s()("wc-block-checkout",{"has-dark-controls":e.hasDarkControls})},(0,r.createElement)(Et.Provider,{value:{addressFieldControls:()=>(0,r.createElement)(d.InspectorControls,null,(0,r.createElement)(gt.PanelBody,{title:(0,u.__)("Address Fields","woo-gutenberg-products-block")},(0,r.createElement)("p",{className:"wc-block-checkout__controls-text"},(0,u.__)("Show or hide fields in the checkout address forms.","woo-gutenberg-products-block")),(0,r.createElement)(gt.ToggleControl,{label:(0,u.__)("Company","woo-gutenberg-products-block"),checked:o,onChange:()=>y("showCompanyField")}),o&&(0,r.createElement)(gt.CheckboxControl,{label:(0,u.__)("Require company name?","woo-gutenberg-products-block"),checked:n,onChange:()=>y("requireCompanyField"),className:"components-base-control--nested"}),(0,r.createElement)(gt.ToggleControl,{label:(0,u.__)("Apartment, suite, etc.","woo-gutenberg-products-block"),checked:c,onChange:()=>y("showApartmentField")}),(0,r.createElement)(gt.ToggleControl,{label:(0,u.__)("Phone","woo-gutenberg-products-block"),checked:a,onChange:()=>y("showPhoneField")}),a&&(0,r.createElement)(gt.CheckboxControl,{label:(0,u.__)("Require phone number?","woo-gutenberg-products-block"),checked:i,onChange:()=>y("requirePhoneField"),className:"components-base-control--nested"})))}},(0,r.createElement)(kt.Provider,{value:{showCompanyField:o,requireCompanyField:n,showApartmentField:c,showPhoneField:a,requirePhoneField:i,showOrderNotes:p,showPolicyLinks:m,showReturnToCart:g,cartPageId:k,showRateAfterTaxName:b}},(0,r.createElement)(d.InnerBlocks,{allowedBlocks:Ms,template:[["woocommerce/checkout-fields-block",{},[]],["woocommerce/checkout-totals-block",{},[]]],templateLock:"insert"}))))))))},save:()=>(0,r.createElement)("div",{...d.useBlockProps.save({className:"wc-block-checkout is-loading"})},(0,r.createElement)(d.InnerBlocks.Content,null)),deprecated:[{attributes:{...Ds.attributes,...Os,...Bs},save:({attributes:e})=>(0,r.createElement)("div",{className:s()("is-loading",e.className)}),migrate:e=>{const{showOrderNotes:t,showPolicyLinks:o,showReturnToCart:r,cartPageId:n}=e;return[e,[(0,l.createBlock)("woocommerce/checkout-fields-block",{},[(0,l.createBlock)("woocommerce/checkout-express-payment-block",{},[]),(0,l.createBlock)("woocommerce/checkout-contact-information-block",{},[]),(0,l.createBlock)("woocommerce/checkout-shipping-address-block",{},[]),(0,l.createBlock)("woocommerce/checkout-billing-address-block",{},[]),(0,l.createBlock)("woocommerce/checkout-shipping-methods-block",{},[]),(0,l.createBlock)("woocommerce/checkout-payment-block",{},[]),!!t&&(0,l.createBlock)("woocommerce/checkout-order-note-block",{},[]),!!o&&(0,l.createBlock)("woocommerce/checkout-terms-block",{},[]),(0,l.createBlock)("woocommerce/checkout-actions-block",{showReturnToCart:r,cartPageId:n},[])].filter(Boolean)),(0,l.createBlock)("woocommerce/checkout-totals-block",{})]]},isEligible:(e,t)=>!t.some((e=>"woocommerce/checkout-fields-block"===e.name))}]};(0,l.registerBlockType)(Ds,Ls)},4578:()=>{},5482:()=>{},7424:()=>{},2911:()=>{},9086:()=>{},4948:()=>{},6315:()=>{},7984:()=>{},9889:()=>{},6701:()=>{},7866:()=>{},6125:()=>{},5454:()=>{},5154:()=>{},6305:()=>{},5092:()=>{},6232:()=>{},5821:()=>{},7775:()=>{},5476:()=>{},6575:()=>{},1365:()=>{},5641:()=>{},5138:()=>{},7546:()=>{},6430:()=>{},5589:()=>{},8410:()=>{},237:()=>{},5198:()=>{},6620:()=>{},7185:()=>{},5012:()=>{},4623:()=>{},1741:()=>{},131:()=>{},1337:()=>{},7196:()=>{},3969:()=>{},3225:()=>{},838:()=>{},9939:()=>{},561:()=>{},5968:()=>{},7256:()=>{},7755:()=>{},264:()=>{},3926:()=>{},7186:()=>{},5762:()=>{},27:()=>{},4823:()=>{},4662:()=>{},1128:()=>{},9446:()=>{},2:()=>{},9196:e=>{"use strict";e.exports=window.React},2819:e=>{"use strict";e.exports=window.lodash},5158:e=>{"use strict";e.exports=window.wp.a11y},4333:e=>{"use strict";e.exports=window.wp.compose},7180:e=>{"use strict";e.exports=window.wp.deprecated},5904:e=>{"use strict";e.exports=window.wp.dom},9307:e=>{"use strict";e.exports=window.wp.element},5736:e=>{"use strict";e.exports=window.wp.i18n},9127:e=>{"use strict";e.exports=window.wp.isShallowEqual},9630:e=>{"use strict";e.exports=window.wp.keycodes},444:e=>{"use strict";e.exports=window.wp.primitives},2560:e=>{"use strict";e.exports=window.wp.warning}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var s=o[e]={exports:{}};return t[e].call(s.exports,s,s.exports,r),s.exports}r.m=t,e=[],r.O=(t,o,n,s)=>{if(!o){var c=1/0;for(u=0;u<e.length;u++){for(var[o,n,s]=e[u],a=!0,i=0;i<o.length;i++)(!1&s||c>=s)&&Object.keys(r.O).every((e=>r.O[e](o[i])))?o.splice(i--,1):(a=!1,s<c&&(c=s));if(a){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[o,n,s]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.j=4231,(()=>{var e={4231:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,s,[c,a,i]=o,l=0;if(c.some((t=>0!==e[t]))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(i)var u=i(r)}for(t&&t(o);l<c.length;l++)s=c[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(u)},o=self.webpackChunkwebpackWcBlocksJsonp=self.webpackChunkwebpackWcBlocksJsonp||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=r.O(void 0,[2869],(()=>r(4127)));n=r.O(n),((this.wc=this.wc||{}).blocks=this.wc.blocks||{}).checkout=n})();